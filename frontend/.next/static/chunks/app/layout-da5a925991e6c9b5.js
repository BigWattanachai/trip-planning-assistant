(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8717:function(e,n,t){Promise.resolve().then(t.bind(t,7682)),Promise.resolve().then(t.bind(t,6077)),Promise.resolve().then(t.t.bind(t,6087,23)),Promise.resolve().then(t.t.bind(t,3385,23))},7682:function(e,n,t){"use strict";t.r(n);var o=t(7437);t(2265);var r=t(6077);n.default=()=>{let{isConnected:e,connectionError:n}=(0,r.useWebSocket)();return e?null:(0,o.jsx)("div",{className:"fixed bottom-4 right-4 p-3 bg-red-500 text-white rounded-md shadow-lg z-50",children:n||"Connection lost. Reconnecting..."})}},6077:function(e,n,t){"use strict";t.r(n),t.d(n,{WebSocketProvider:function(){return l},useWebSocket:function(){return s}});var o=t(7437),r=t(2265);let c=(0,r.createContext)({isConnected:!1,connectionError:null}),s=()=>(0,r.useContext)(c),l=e=>{let{children:n}=e,[t,s]=(0,r.useState)(!1),[l,u]=(0,r.useState)(null),i=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=()=>{let n=Math.random().toString(36).substring(2,15),t=new WebSocket("ws://localhost:8000/api/ws/".concat(n));return t.onopen=()=>{console.log("WebSocket connected"),s(!0),u(null)},t.onclose=n=>{console.log("WebSocket disconnected",n),s(!1),setTimeout(e,3e3)},t.onerror=e=>{console.error("WebSocket error:",e),u("Connection error occurred. Trying to reconnect...")},i.current=t,()=>{t.close()}};return e(),()=>{i.current&&i.current.close()}},[]),(0,o.jsx)(c.Provider,{value:{isConnected:t,connectionError:l,sendMessage:e=>{i.current&&i.current.readyState===WebSocket.OPEN?i.current.send(JSON.stringify(e)):(console.error("WebSocket is not connected"),u("Connection lost. Unable to send message."))}},children:n})}},3385:function(){},6087:function(e){e.exports={style:{fontFamily:"'__Inter_d65c78', '__Inter_Fallback_d65c78'",fontStyle:"normal"},className:"__className_d65c78"}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=8717)}),_N_E=e.O()}]);