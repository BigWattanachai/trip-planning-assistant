(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9859:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=s(482),a=s(9108),n=s(2563),i=s.n(n),l=s(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,751)),"/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1805)),"/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/app/page.tsx"],m="/page",h={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},808:(e,t,s)=>{Promise.resolve().then(s.bind(s,966))},8383:(e,t,s)=>{Promise.resolve().then(s.bind(s,2671)),Promise.resolve().then(s.bind(s,3161))},5964:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},966:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>z});var r=s(5344),a=s(3729);let n={tripData:null,isLoading:!1,error:null},i=(e,t)=>{switch(t.type){case"SET_TRIP_DATA":return{...e,tripData:t.payload,isLoading:!1,error:null};case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload,isLoading:!1};default:return e}},l=(0,a.createContext)(void 0),o=({children:e})=>{let[t,s]=(0,a.useReducer)(i,n);return r.jsx(l.Provider,{value:{state:t,dispatch:s},children:e})},c=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useTripPlanning must be used within a TripPlanningProvider");return e};/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:o,...c},h)=>(0,a.createElement)("svg",{ref:h,...d,width:r,height:r,stroke:s,strokeWidth:i?24*Number(n)/Number(r):n,className:["lucide",`lucide-${m(e)}`,l].join(" "),...c},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return s.displayName=`${e}`,s},x=h("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),p=h("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),u=h("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),g=({activities:e})=>(0,r.jsxs)("section",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx(x,{className:"w-6 h-6 text-primary-500"}),"Activities & Attractions"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-48 object-cover"}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(p,{className:"w-4 h-4 text-yellow-400 fill-current"}),r.jsx("span",{className:"ml-1 text-sm font-medium text-gray-600",children:e.rating})]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(u,{className:"w-4 h-4 mr-1"}),e.openingHours]}),r.jsx("div",{className:"mt-3",children:r.jsx("span",{className:"inline-block bg-primary-100 text-primary-800 text-xs px-2 py-1 rounded-full",children:e.category})})]})]},e.id))})]}),y=h("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),f=({restaurants:e})=>(0,r.jsxs)("section",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx(y,{className:"w-6 h-6 text-primary-500"}),"Restaurants & Dining"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-48 object-cover"}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(p,{className:"w-4 h-4 text-yellow-400 fill-current"}),r.jsx("span",{className:"ml-1 text-sm font-medium text-gray-600",children:e.rating})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[r.jsx("span",{className:"inline-block bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:e.cuisine}),r.jsx("div",{className:"flex items-center text-gray-600",children:Array.from({length:4}).map((t,s)=>r.jsx("span",{className:`w-4 h-4 inline-block text-center ${s<e.priceRange.length?"text-gray-900":"text-gray-300"}`,children:"฿"},s))})]}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm italic",children:['"',e.reviewHighlight,'"']})]})]},e.id))})]}),b=h("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),v=h("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),j=({flights:e})=>(0,r.jsxs)("section",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx(b,{className:"w-6 h-6 text-primary-500"}),"Flight Options"]}),r.jsx("div",{className:"space-y-4",children:e.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-shadow",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.airline}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Flight ",e.flightNumber]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-primary-600",children:["฿",e.price]}),r.jsx("div",{className:"text-sm text-gray-600",children:e.class})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.departure.time}),r.jsx("div",{className:"text-sm text-gray-600",children:e.departure.airport}),r.jsx("div",{className:"text-xs text-gray-500",children:e.departure.date})]}),r.jsx("div",{className:"flex-1 mx-4",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:"border-t-2 border-gray-300 w-full"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white px-2",children:(0,r.jsxs)("div",{className:"flex items-center text-gray-600",children:[r.jsx(u,{className:"w-4 h-4 mr-1"}),r.jsx("span",{className:"text-sm",children:e.duration})]})})]})}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.arrival.time}),r.jsx("div",{className:"text-sm text-gray-600",children:e.arrival.airport}),r.jsx("div",{className:"text-xs text-gray-500",children:e.arrival.date})]})]}),r.jsx("div",{className:"flex justify-end",children:(0,r.jsxs)("a",{href:e.bookingUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center gap-2",children:["Book Flight",r.jsx(v,{className:"w-4 h-4"})]})})]},e.id))})]}),w=h("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),N=({videos:e})=>(0,r.jsxs)("section",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx(w,{className:"w-6 h-6 text-red-500"}),"Travel Videos"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-48 object-cover"}),r.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:e.duration})]}),(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),r.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[e.viewCount," views"]}),r.jsx("a",{href:e.embedUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-500 hover:text-primary-600 text-sm font-medium",children:"Watch on YouTube"})]})]})]},e.id))})]}),k=h("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),S=h("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),P=h("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),D=h("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]),M=h("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),C={WiFi:r.jsx(k,{className:"w-4 h-4"}),Coffee:r.jsx(S,{className:"w-4 h-4"}),Parking:r.jsx(P,{className:"w-4 h-4"}),"Private Bathroom":r.jsx(D,{className:"w-4 h-4"})},A=({accommodations:e})=>(0,r.jsxs)("section",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx(M,{className:"w-6 h-6 text-primary-500"}),"Accommodations"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-48 object-cover"}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-600",children:e.type})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-primary-600",children:["฿",e.price]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["/",e.priceUnit]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(p,{className:"w-4 h-4 text-yellow-400 fill-current"}),r.jsx("span",{className:"ml-1 text-sm font-medium text-gray-900",children:e.rating})]}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["(",e.reviewCount," reviews)"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.amenities.slice(0,4).map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-1 bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs",children:[C[e]||r.jsx(M,{className:"w-3 h-3"}),r.jsx("span",{children:e})]},t))}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:["via ",e.platform]}),r.jsx("a",{href:e.bookingUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors text-sm",children:"View Details"})]})]})]},e.id))})]}),T=h("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),U=({isPlanning:e})=>{let{state:t}=c();return(0,r.jsxs)("div",{className:"h-full overflow-y-auto",children:[!t.tripData&&!e&&r.jsx("div",{className:"h-full flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Welcome to Travel Planner"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Start planning your perfect trip by providing your travel details."}),r.jsx("div",{className:"w-64 h-64 mx-auto",children:r.jsx("img",{src:"/travel-illustration.svg",alt:"Travel planning illustration",className:"w-full h-full object-contain"})})]})}),e&&!t.tripData&&r.jsx("div",{className:"h-full flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx(T,{className:"w-12 h-12 text-primary-500 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Planning Your Trip"}),r.jsx("p",{className:"text-gray-600",children:"Our AI agents are working together to create your perfect itinerary..."})]})}),t.tripData&&(0,r.jsxs)("div",{className:"space-y-6 p-6",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Your Trip to ",t.tripData.destination]}),(0,r.jsxs)("p",{className:"text-lg text-gray-600 mt-2",children:[t.tripData.startDate," to ",t.tripData.endDate]})]}),r.jsx(g,{activities:t.tripData.activities}),r.jsx(f,{restaurants:t.tripData.restaurants}),r.jsx(j,{flights:t.tripData.flights}),r.jsx(N,{videos:t.tripData.videos}),r.jsx(A,{accommodations:t.tripData.accommodations})]})]})},q=h("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),E=h("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),W=h("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),R=h("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),_=h("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);class ${constructor(e,t){this.socket=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectTimeout=null,this.sessionId=e,this.handlers=t,this.backendUrl="http://localhost:8000";let s=this.backendUrl.startsWith("https")?"wss":"ws";this.backendUrl=this.backendUrl.replace(/^http(s?):\/\//,`${s}://`)}connect(){try{let e=`${this.backendUrl}/api/ws/${this.sessionId}`;this.socket=new WebSocket(e),this.socket.onopen=this.handleOpen.bind(this),this.socket.onmessage=this.handleMessage.bind(this),this.socket.onclose=this.handleClose.bind(this),this.socket.onerror=this.handleError.bind(this)}catch(e){console.error("WebSocket connection error:",e),this.handlers.onError(e)}}disconnect(){this.socket&&(this.socket.close(),this.socket=null),this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}sendMessage(e){this.socket&&this.socket.readyState===WebSocket.OPEN?this.socket.send(e):(console.error("WebSocket is not connected"),this.handlers.onError(Error("WebSocket is not connected")))}handleOpen(e){console.log("WebSocket connection established"),this.reconnectAttempts=0,this.handlers.onOpen&&this.handlers.onOpen()}handleMessage(e){try{let t=JSON.parse(e.data);t.message&&this.handlers.onMessage(t.message),t.turn_complete&&this.handlers.onTurnComplete(),t.interrupted&&this.handlers.onInterrupted&&this.handlers.onInterrupted()}catch(e){console.error("Error processing WebSocket message:",e),this.handlers.onError(e)}}handleClose(e){console.log(`WebSocket connection closed: ${e.code} ${e.reason}`),1e3!==e.code&&this.attemptReconnect(),this.handlers.onClose&&this.handlers.onClose()}handleError(e){console.error("WebSocket error:",e),this.handlers.onError(e)}attemptReconnect(){if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;let e=Math.min(1e3*Math.pow(2,this.reconnectAttempts),3e4);console.log(`Attempting to reconnect in ${e}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.reconnectTimeout=setTimeout(()=>{console.log(`Reconnecting... (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.connect()},e)}else console.error("Maximum reconnect attempts reached"),this.handlers.onError(Error("Maximum reconnect attempts reached"))}}/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let O=h("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),B=h("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),L=({onSubmit:e})=>{let[t,s]=(0,a.useState)({departure:"",destination:"",startDate:"",endDate:"",budgetRange:"medium"}),n=e=>{let{name:t,value:r}=e.target;s(e=>({...e,[t]:r}))};return(0,r.jsxs)("form",{onSubmit:s=>{s.preventDefault(),e(t)},className:"bg-white p-4 rounded-lg border border-gray-200 space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(x,{className:"w-4 h-4"}),"Departure Location"]})}),r.jsx("input",{type:"text",name:"departure",value:t.departure,onChange:n,placeholder:"e.g., San Francisco",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(x,{className:"w-4 h-4"}),"Destination"]})}),r.jsx("input",{type:"text",name:"destination",value:t.destination,onChange:n,placeholder:"e.g., Bangkok",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(O,{className:"w-4 h-4"}),"Start Date"]})}),r.jsx("input",{type:"date",name:"startDate",value:t.startDate,onChange:n,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(O,{className:"w-4 h-4"}),"End Date"]})}),r.jsx("input",{type:"date",name:"endDate",value:t.endDate,onChange:n,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(B,{className:"w-4 h-4"}),"Budget Range (THB)"]})}),(0,r.jsxs)("select",{name:"budgetRange",value:t.budgetRange,onChange:n,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[r.jsx("option",{value:"budget",children:"Budget (฿ - Under ฿35,000)"}),r.jsx("option",{value:"medium",children:"Medium (฿฿ - ฿35,000-฿105,000)"}),r.jsx("option",{value:"luxury",children:"Luxury (฿฿฿ - Above ฿105,000)"})]})]}),r.jsx("button",{type:"submit",className:"w-full bg-primary-500 text-white py-2 px-4 rounded-lg hover:bg-primary-600 transition-colors font-medium",children:"Plan My Trip"})]})},H=({onPlanningStart:e,onPlanningComplete:t})=>{let[s,n]=(0,a.useState)([{id:"1",role:"assistant",content:"สวัสดีค่ะ! ฉันคือผู้ช่วยวางแผนการเดินทางของคุณ บอกฉันหน่อยว่าคุณอยากไปเที่ยวที่ไหน และมีงบประมาณเท่าไหร่คะ?",timestamp:new Date}]),[i,l]=(0,a.useState)(""),[o,d]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[x,p]=(0,a.useState)(null),[u,g]=(0,a.useState)(null),y=(0,a.useRef)(null),f=(0,a.useRef)(null),{dispatch:b}=c(),v=()=>{y.current?.scrollIntoView({behavior:"smooth"})};(0,a.useEffect)(()=>{v()},[s]),(0,a.useEffect)(()=>(j(),()=>{w()}),[]);let j=()=>{if(f.current)return;h(!0),p(null);let e=Math.random().toString(36).substring(2,15);f.current=new $(e,{onOpen:()=>{d(!0),h(!1),console.log("WebSocket connected")},onMessage:e=>{if(null===u){let t=Date.now().toString();g(t),n(s=>[...s,{id:t,role:"assistant",content:e,timestamp:new Date}])}else n(t=>t.map(t=>t.id===u?{...t,content:t.content+e}:t))},onTurnComplete:()=>{g(null)},onInterrupted:()=>{g(null)},onClose:()=>{d(!1),console.log("WebSocket disconnected")},onError:e=>{p("Connection to the assistant failed. Please try again."),h(!1),d(!1),console.error("WebSocket error:",e)}}),f.current.connect()},w=()=>{f.current&&(f.current.disconnect(),f.current=null,d(!1))},N=async e=>{if(e.preventDefault(),!i.trim())return;if(!o){m||j(),p("Connecting to the assistant. Please try again in a moment.");return}let t={id:Date.now().toString(),role:"user",content:i,timestamp:new Date};if(n(e=>[...e,t]),f.current)try{f.current.sendMessage(i)}catch(e){console.error("Failed to send message:",e),p("Failed to send message. Please try again.")}else p("Not connected to the assistant. Please refresh the page.");l("")},k=async s=>{if(!o){m||j(),p("Connecting to the assistant. Please try again in a moment.");return}e(),b({type:"SET_LOADING",payload:!0});let r=`วางแผนการเดินทางให้หน่อย:
- จาก: ${s.departure}
- ไป: ${s.destination}
- วันที่: ${s.startDate} ถึง ${s.endDate}
- งบประมาณ: ${s.budgetRange}`,a={id:Date.now().toString(),role:"user",content:r,timestamp:new Date};if(n(e=>[...e,a]),f.current)try{f.current.sendMessage(r)}catch(e){console.error("Failed to send trip planning request:",e),p("Failed to send trip planning request. Please try again."),b({type:"SET_LOADING",payload:!1}),t()}else p("Not connected to the assistant. Please refresh the page."),b({type:"SET_LOADING",payload:!1}),t();setTimeout(()=>{b({type:"SET_TRIP_DATA",payload:{destination:s.destination,departure:s.departure,startDate:s.startDate,endDate:s.endDate,budget:s.budgetRange,activities:[{id:"1",name:"วัดพระแก้ว",description:"วัดที่มีชื่อเสียงที่สุดในกรุงเทพฯ เป็นที่ประดิษฐานพระแก้วมรกต",rating:4.8,openingHours:"8:30 AM - 3:30 PM",imageUrl:"https://images.unsplash.com/photo-1563492065599-3520f775eeed?w=800&auto=format&fit=crop&q=60",category:"Cultural"},{id:"2",name:"ตลาดนัดจตุจักร",description:"ตลาดนัดที่ใหญ่ที่สุดในประเทศไทย มีสินค้ามากกว่า 15,000 ร้านค้า",rating:4.5,openingHours:"Sat-Sun: 9:00 AM - 6:00 PM",imageUrl:"https://images.unsplash.com/photo-1577719996642-edf11c65fe76?w=800&auto=format&fit=crop&q=60",category:"Shopping"}],restaurants:[{id:"1",name:"ร้านทิพย์สมัย ผัดไทยประตูผี",cuisine:"Thai",priceRange:"฿฿",rating:4.7,reviewHighlight:"ผัดไทยที่ดีที่สุดในกรุงเทพฯ รสชาติต้นตำรับ",imageUrl:"https://images.unsplash.com/photo-1559314809-0d155014e29e?w=800&auto=format&fit=crop&q=60"},{id:"2",name:"บ้านอาหารเรือนไทย",cuisine:"Thai Fine Dining",priceRange:"฿฿฿",rating:4.6,reviewHighlight:"บรรยากาศสุดคลาสสิก อาหารไทยรสเลิศ",imageUrl:"https://images.unsplash.com/photo-1543352634-a1c51d9f1fa7?w=800&auto=format&fit=crop&q=60"}],flights:[{id:"1",airline:"Thai Airways",flightNumber:"TG102",departure:{airport:"SFO",time:"23:55",date:s.startDate},arrival:{airport:"BKK",time:"06:50+2",date:s.startDate},duration:"15h 55m",price:29750,class:"Economy",bookingUrl:"https://www.thaiairways.com"},{id:"2",airline:"United Airlines",flightNumber:"UA899",departure:{airport:"SFO",time:"10:40",date:s.startDate},arrival:{airport:"BKK",time:"18:30+1",date:s.startDate},duration:"17h 50m",price:25200,class:"Economy",bookingUrl:"https://www.united.com"}],videos:[{id:"1",title:"Bangkok Travel Guide - Best Things to Do",description:"Complete guide to Bangkok covering temples, markets, food, and nightlife.",thumbnail:"https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=800&auto=format&fit=crop&q=60",embedUrl:"https://www.youtube.com/watch?v=example1",duration:"12:45",viewCount:"250K"},{id:"2",title:"Street Food Tour in Bangkok",description:"Discover the best street food in Bangkok with this comprehensive food tour.",thumbnail:"https://images.unsplash.com/photo-1608060434411-0c67dca250bd?w=800&auto=format&fit=crop&q=60",embedUrl:"https://www.youtube.com/watch?v=example2",duration:"15:30",viewCount:"180K"}],accommodations:[{id:"1",name:"The Siam Hotel",type:"Luxury Hotel",rating:4.9,reviewCount:342,price:8750,priceUnit:"night",amenities:["WiFi","Pool","Private Bathroom","Breakfast"],imageUrl:"https://images.unsplash.com/photo-1584132967334-10e028bd69f7?w=800&auto=format&fit=crop&q=60",platform:"Agoda",bookingUrl:"https://www.agoda.com"},{id:"2",name:"Riva Surya Bangkok",type:"Boutique Hotel",rating:4.7,reviewCount:567,price:4200,priceUnit:"night",amenities:["WiFi","River View","Fitness Center","Restaurant"],imageUrl:"https://images.unsplash.com/photo-1581701391032-33cb5e4cff33?w=800&auto=format&fit=crop&q=60",platform:"TripAdvisor",bookingUrl:"https://www.tripadvisor.com"}]}}),b({type:"SET_LOADING",payload:!1}),t()},5e3)};return(0,r.jsxs)("div",{className:"h-full flex flex-col bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Chat Assistant"}),m?(0,r.jsxs)("div",{className:"flex items-center text-amber-600 text-sm",children:[r.jsx(q,{className:"w-4 h-4 mr-1 animate-spin"}),r.jsx("span",{children:"Connecting..."})]}):o?(0,r.jsxs)("div",{className:"flex items-center text-green-600 text-sm",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 mr-1"}),r.jsx("span",{children:"Connected"})]}):(0,r.jsxs)("div",{className:"flex items-center text-rose-600 text-sm",children:[r.jsx(E,{className:"w-4 h-4 mr-1"}),r.jsx("span",{children:"Disconnected"})]})]})}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[x&&r.jsx("div",{className:"bg-rose-50 border border-rose-200 rounded-lg p-3 text-rose-600 text-sm",children:x}),r.jsx(L,{onSubmit:k}),s.map(e=>r.jsx("div",{className:`flex ${"user"===e.role?"justify-end":"justify-start"}`,children:(0,r.jsxs)("div",{className:`flex gap-3 max-w-[80%] ${"user"===e.role?"flex-row-reverse":"flex-row"}`,children:[r.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${"user"===e.role?"bg-primary-500":"bg-gray-200"}`,children:"user"===e.role?r.jsx(W,{className:"w-5 h-5 text-white"}):r.jsx(R,{className:"w-5 h-5 text-gray-600"})}),(0,r.jsxs)("div",{className:`rounded-lg px-4 py-2 ${"user"===e.role?"bg-primary-500 text-white":"bg-white border border-gray-200"}`,children:[r.jsx("p",{className:"text-sm",children:e.content}),r.jsx("p",{className:`text-xs mt-1 ${"user"===e.role?"text-primary-200":"text-gray-500"}`,children:e.timestamp.toLocaleTimeString()})]})]})},e.id)),r.jsx("div",{ref:y})]}),r.jsx("form",{onSubmit:N,className:"p-4 bg-white border-t border-gray-200",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"Type your message...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),r.jsx("button",{type:"submit",className:"bg-primary-500 text-white rounded-lg p-2 hover:bg-primary-600 transition-colors",children:r.jsx(_,{className:"w-5 h-5"})})]})})]})},I=()=>r.jsx("header",{className:"bg-white shadow-sm",children:r.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-primary-500 p-2 rounded-lg",children:r.jsx(b,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Travel Planner"}),r.jsx("p",{className:"text-sm text-gray-600",children:"AI-Powered Trip Planning Assistant"})]})]})})}),z=function(){let[e,t]=(0,a.useState)(!1);return r.jsx(o,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[r.jsx(I,{}),r.jsx("main",{className:"container mx-auto px-4 py-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-[calc(100vh-8rem)]",children:[r.jsx("div",{className:"lg:col-span-8 bg-white rounded-xl shadow-lg overflow-hidden",children:r.jsx(U,{isPlanning:e})}),r.jsx("div",{className:"lg:col-span-4 bg-white rounded-xl shadow-lg overflow-hidden",children:r.jsx(H,{onPlanningStart:()=>t(!0),onPlanningComplete:()=>t(!1)})})]})})]})})}},2671:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(5344);s(3729);var a=s(3161);let n=()=>{let{isConnected:e,connectionError:t}=(0,a.useWebSocket)();return e?null:r.jsx("div",{className:"fixed bottom-4 right-4 p-3 bg-red-500 text-white rounded-md shadow-lg z-50",children:t||"Connection lost. Reconnecting..."})}},3161:(e,t,s)=>{"use strict";s.r(t),s.d(t,{WebSocketProvider:()=>l,useWebSocket:()=>i});var r=s(5344),a=s(3729);let n=(0,a.createContext)({isConnected:!1,connectionError:null}),i=()=>(0,a.useContext)(n),l=({children:e})=>{let[t,s]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null),o=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=()=>{let t=Math.random().toString(36).substring(2,15),r=new WebSocket(`ws://localhost:8000/api/ws/${t}`);return r.onopen=()=>{console.log("WebSocket connected"),s(!0),l(null)},r.onclose=t=>{console.log("WebSocket disconnected",t),s(!1),setTimeout(e,3e3)},r.onerror=e=>{console.error("WebSocket error:",e),l("Connection error occurred. Trying to reconnect...")},o.current=r,()=>{r.close()}};return e(),()=>{o.current&&o.current.close()}},[]),r.jsx(n.Provider,{value:{isConnected:t,connectionError:i,sendMessage:e=>{o.current&&o.current.readyState===WebSocket.OPEN?o.current.send(JSON.stringify(e)):(console.error("WebSocket is not connected"),l("Connection lost. Unable to send message."))}},children:e})}},1805:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g,metadata:()=>u});var r=s(5036),a=s(8592),n=s.n(a),i=s(6843);let l=(0,i.createProxy)(String.raw`/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/components/WebSocketProvider.tsx`),{__esModule:o,$$typeof:c}=l;l.default,(0,i.createProxy)(String.raw`/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/components/WebSocketProvider.tsx#useWebSocket`);let d=(0,i.createProxy)(String.raw`/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/components/WebSocketProvider.tsx#WebSocketProvider`),m=(0,i.createProxy)(String.raw`/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/components/ConnectionStatus.tsx`),{__esModule:h,$$typeof:x}=m,p=m.default;s(5023);let u={title:"Travel Planner - AI-Powered Trip Planning",description:"Plan your perfect trip with AI agents"};function g({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:n().className,children:(0,r.jsxs)(d,{children:[e,r.jsx(p,{})]})})})}},751:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/app/page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[429],()=>s(9859));module.exports=r})();