(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9859:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>m,tree:()=>h});var s=i(482),r=i(9108),n=i(2563),a=i.n(n),o=i(8300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);i.d(t,l);let h=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,751)),"/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(i.bind(i,1805)),"/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/app/page.tsx"],c="/page",u={require:i,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:h}})},808:(e,t,i)=>{Promise.resolve().then(i.bind(i,2711))},8383:(e,t,i)=>{Promise.resolve().then(i.bind(i,2671)),Promise.resolve().then(i.bind(i,3161))},5964:(e,t,i)=>{Promise.resolve().then(i.t.bind(i,2583,23)),Promise.resolve().then(i.t.bind(i,6840,23)),Promise.resolve().then(i.t.bind(i,8771,23)),Promise.resolve().then(i.t.bind(i,3225,23)),Promise.resolve().then(i.t.bind(i,9295,23)),Promise.resolve().then(i.t.bind(i,3982,23))},2711:(e,t,i)=>{"use strict";let s;i.r(t),i.d(t,{default:()=>an});var r,n,a=i(5344),o=i(3729);let l={tripData:null,isLoading:!1,error:null,messages:[]},h=(e,t)=>{switch(t.type){case"SET_TRIP_DATA":return{...e,tripData:t.payload,isLoading:!1,error:null};case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload,isLoading:!1};case"ADD_MESSAGE":return{...e,messages:[...e.messages,t.payload]};case"SET_MESSAGES":return{...e,messages:t.payload};default:return e}},d=(0,o.createContext)(void 0),c=({children:e})=>{let[t,i]=(0,o.useReducer)(h,l);return a.jsx(d.Provider,{value:{state:t,dispatch:i},children:e})},u=()=>{let e=(0,o.useContext)(d);if(void 0===e)throw Error("useTripPlanning must be used within a TripPlanningProvider");return e};/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f=(e,t)=>{let i=(0,o.forwardRef)(({color:i="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:l,...h},d)=>(0,o.createElement)("svg",{ref:d,...m,width:s,height:s,stroke:i,strokeWidth:n?24*Number(r)/Number(s):r,className:["lucide",`lucide-${p(e)}`,a].join(" "),...h},[...t.map(([e,t])=>(0,o.createElement)(e,t)),...Array.isArray(l)?l:[l]]));return i.displayName=`${e}`,i},g=f("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),x=f("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),y=f("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),v=f("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),b=f("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),w=f("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function j(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function T(e){let t=[{},{}];return e?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function k(e,t,i,s){if("function"==typeof t){let[r,n]=T(s);t=t(void 0!==i?i:e.custom,r,n)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[r,n]=T(s);t=t(void 0!==i?i:e.custom,r,n)}return t}function N(e,t,i){let s=e.getProps();return k(s,t,void 0!==i?i:s.custom,e)}function S(e,t){return e?.[t]??e?.default??e}let P=e=>e,A={},M=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],D={value:null,addProjectionMetrics:null};function E(e,t){let i=!1,s=!0,r={delta:0,timestamp:0,isProcessing:!1},n=()=>i=!0,a=M.reduce((e,i)=>(e[i]=function(e,t){let i=new Set,s=new Set,r=!1,n=!1,a=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function h(t){a.has(t)&&(d.schedule(t),e()),l++,t(o)}let d={schedule:(e,t=!1,n=!1)=>{let o=n&&r?i:s;return t&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{s.delete(e),a.delete(e)},process:e=>{if(o=e,r){n=!0;return}r=!0,[i,s]=[s,i],i.forEach(h),t&&D.value&&D.value.frameloop[t].push(l),l=0,i.clear(),r=!1,n&&(n=!1,d.process(e))}};return d}(n,t?i:void 0),e),{}),{setup:o,read:l,resolveKeyframes:h,preUpdate:d,update:c,preRender:u,render:m,postRender:p}=a,f=()=>{let n=A.useManualTiming?r.timestamp:performance.now();i=!1,A.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(n-r.timestamp,40),1)),r.timestamp=n,r.isProcessing=!0,o.process(r),l.process(r),h.process(r),d.process(r),c.process(r),u.process(r),m.process(r),p.process(r),r.isProcessing=!1,i&&t&&(s=!1,e(f))},g=()=>{i=!0,s=!0,r.isProcessing||e(f)};return{schedule:M.reduce((e,t)=>{let s=a[t];return e[t]=(e,t=!1,r=!1)=>(i||g(),s.schedule(e,t,r)),e},{}),cancel:e=>{for(let t=0;t<M.length;t++)a[M[t]].cancel(e)},state:r,steps:a}}let{schedule:C,cancel:V,state:R,steps:L}=E("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:P,!0),F=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],B=new Set(F),O=new Set(["width","height","top","left","right","bottom",...F]);function U(e,t){-1===e.indexOf(t)&&e.push(t)}function I(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}class ${constructor(){this.subscriptions=[]}add(e){return U(this.subscriptions,e),()=>I(this.subscriptions,e)}notify(e,t,i){let s=this.subscriptions.length;if(s){if(1===s)this.subscriptions[0](e,t,i);else for(let r=0;r<s;r++){let s=this.subscriptions[r];s&&s(e,t,i)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function W(){s=void 0}let q={now:()=>(void 0===s&&q.set(R.isProcessing||A.useManualTiming?R.timestamp:performance.now()),s),set:e=>{s=e,queueMicrotask(W)}},_=e=>!isNaN(parseFloat(e)),H={current:void 0};class z{constructor(e,t={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{let i=q.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty();t&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=q.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=_(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new $);let i=this.events[e].add(t);return"change"===e?()=>{i(),C.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return H.current&&H.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=q.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let i=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),i?1e3/i*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Y(e,t){return new z(e,t)}let G=e=>Array.isArray(e),K=e=>!!(e&&e.getVelocity);function X(e,t){let i=e.getValue("willChange");if(K(i)&&i.add)return i.add(t);if(!i&&A.WillChange){let i=new A.WillChange("auto");e.addValue("willChange",i),i.add(t)}}let Z=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),J="data-"+Z("framerAppearId"),Q=(e,t)=>i=>t(e(i)),ee=(...e)=>e.reduce(Q),et=(e,t,i)=>i>t?t:i<e?e:i,ei=e=>1e3*e,es=e=>e/1e3,er={layout:0,mainThread:0,waapi:0},en=()=>{},ea=()=>{},eo=e=>t=>"string"==typeof t&&t.startsWith(e),el=eo("--"),eh=eo("var(--"),ed=e=>!!eh(e)&&ec.test(e.split("/*")[0].trim()),ec=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,eu={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},em={...eu,transform:e=>et(0,1,e)},ep={...eu,default:1},ef=e=>Math.round(1e5*e)/1e5,eg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,ex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ey=(e,t)=>i=>!!("string"==typeof i&&ex.test(i)&&i.startsWith(e)||t&&null!=i&&Object.prototype.hasOwnProperty.call(i,t)),ev=(e,t,i)=>s=>{if("string"!=typeof s)return s;let[r,n,a,o]=s.match(eg);return{[e]:parseFloat(r),[t]:parseFloat(n),[i]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},eb=e=>et(0,255,e),ew={...eu,transform:e=>Math.round(eb(e))},ej={test:ey("rgb","red"),parse:ev("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:s=1})=>"rgba("+ew.transform(e)+", "+ew.transform(t)+", "+ew.transform(i)+", "+ef(em.transform(s))+")"},eT={test:ey("#"),parse:function(e){let t="",i="",s="",r="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,i+=i,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}},transform:ej.transform},ek=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),eN=ek("deg"),eS=ek("%"),eP=ek("px"),eA=ek("vh"),eM=ek("vw"),eD={...eS,parse:e=>eS.parse(e)/100,transform:e=>eS.transform(100*e)},eE={test:ey("hsl","hue"),parse:ev("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:s=1})=>"hsla("+Math.round(e)+", "+eS.transform(ef(t))+", "+eS.transform(ef(i))+", "+ef(em.transform(s))+")"},eC={test:e=>ej.test(e)||eT.test(e)||eE.test(e),parse:e=>ej.test(e)?ej.parse(e):eE.test(e)?eE.parse(e):eT.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?ej.transform(e):eE.transform(e)},eV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,eR="number",eL="color",eF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eB(e){let t=e.toString(),i=[],s={color:[],number:[],var:[]},r=[],n=0,a=t.replace(eF,e=>(eC.test(e)?(s.color.push(n),r.push(eL),i.push(eC.parse(e))):e.startsWith("var(")?(s.var.push(n),r.push("var"),i.push(e)):(s.number.push(n),r.push(eR),i.push(parseFloat(e))),++n,"${}")).split("${}");return{values:i,split:a,indexes:s,types:r}}function eO(e){return eB(e).values}function eU(e){let{split:t,types:i}=eB(e),s=t.length;return e=>{let r="";for(let n=0;n<s;n++)if(r+=t[n],void 0!==e[n]){let t=i[n];t===eR?r+=ef(e[n]):t===eL?r+=eC.transform(e[n]):r+=e[n]}return r}}let eI=e=>"number"==typeof e?0:e,e$={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(eg)?.length||0)+(e.match(eV)?.length||0)>0},parse:eO,createTransformer:eU,getAnimatableNone:function(e){let t=eO(e);return eU(e)(t.map(eI))}};function eW(e,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function eq(e,t){return i=>i>0?t:e}let e_=(e,t,i)=>e+(t-e)*i,eH=(e,t,i)=>{let s=e*e,r=i*(t*t-s)+s;return r<0?0:Math.sqrt(r)},ez=[eT,ej,eE],eY=e=>ez.find(t=>t.test(e));function eG(e){let t=eY(e);if(en(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let i=t.parse(e);return t===eE&&(i=function({hue:e,saturation:t,lightness:i,alpha:s}){e/=360,i/=100;let r=0,n=0,a=0;if(t/=100){let s=i<.5?i*(1+t):i+t-i*t,o=2*i-s;r=eW(o,s,e+1/3),n=eW(o,s,e),a=eW(o,s,e-1/3)}else r=n=a=i;return{red:Math.round(255*r),green:Math.round(255*n),blue:Math.round(255*a),alpha:s}}(i)),i}let eK=(e,t)=>{let i=eG(e),s=eG(t);if(!i||!s)return eq(e,t);let r={...i};return e=>(r.red=eH(i.red,s.red,e),r.green=eH(i.green,s.green,e),r.blue=eH(i.blue,s.blue,e),r.alpha=e_(i.alpha,s.alpha,e),ej.transform(r))},eX=new Set(["none","hidden"]);function eZ(e,t){return i=>e_(e,t,i)}function eJ(e){return"number"==typeof e?eZ:"string"==typeof e?ed(e)?eq:eC.test(e)?eK:e1:Array.isArray(e)?eQ:"object"==typeof e?eC.test(e)?eK:e0:eq}function eQ(e,t){let i=[...e],s=i.length,r=e.map((e,i)=>eJ(e)(e,t[i]));return e=>{for(let t=0;t<s;t++)i[t]=r[t](e);return i}}function e0(e,t){let i={...e,...t},s={};for(let r in i)void 0!==e[r]&&void 0!==t[r]&&(s[r]=eJ(e[r])(e[r],t[r]));return e=>{for(let t in s)i[t]=s[t](e);return i}}let e1=(e,t)=>{let i=e$.createTransformer(t),s=eB(e),r=eB(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?eX.has(e)&&!r.values.length||eX.has(t)&&!s.values.length?function(e,t){return eX.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}(e,t):ee(eQ(function(e,t){let i=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){let n=t.types[r],a=e.indexes[n][s[n]],o=e.values[a]??0;i[r]=o,s[n]++}return i}(s,r),r.values),i):(en(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),eq(e,t))};function e2(e,t,i){return"number"==typeof e&&"number"==typeof t&&"number"==typeof i?e_(e,t,i):eJ(e)(e,t)}let e5=e=>{let t=({timestamp:t})=>e(t);return{start:()=>C.update(t,!0),stop:()=>V(t),now:()=>R.isProcessing?R.timestamp:q.now()}},e4=(e,t,i=10)=>{let s="",r=Math.max(Math.round(t/i),2);for(let t=0;t<r;t++)s+=e(t/(r-1))+", ";return`linear(${s.substring(0,s.length-2)})`};function e3(e){let t=0,i=e.next(t);for(;!i.done&&t<2e4;)t+=50,i=e.next(t);return t>=2e4?1/0:t}function e6(e,t,i){var s,r;let n=Math.max(t-5,0);return s=i-e(n),(r=t-n)?1e3/r*s:0}let e8={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function e9(e,t){return e*Math.sqrt(1-t*t)}let e7=["duration","bounce"],te=["stiffness","damping","mass"];function tt(e,t){return t.some(t=>void 0!==e[t])}function ti(e=e8.visualDuration,t=e8.bounce){let i;let s="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:r,restDelta:n}=s,a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:h,damping:d,mass:c,duration:u,velocity:m,isResolvedFromDuration:p}=function(e){let t={velocity:e8.velocity,stiffness:e8.stiffness,damping:e8.damping,mass:e8.mass,isResolvedFromDuration:!1,...e};if(!tt(e,te)&&tt(e,e7)){if(e.visualDuration){let i=2*Math.PI/(1.2*e.visualDuration),s=i*i,r=2*et(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:e8.mass,stiffness:s,damping:r}}else{let i=function({duration:e=e8.duration,bounce:t=e8.bounce,velocity:i=e8.velocity,mass:s=e8.mass}){let r,n;en(e<=ei(e8.maxDuration),"Spring duration must be 10 seconds or less");let a=1-t;a=et(e8.minDamping,e8.maxDamping,a),e=et(e8.minDuration,e8.maxDuration,es(e)),a<1?(r=t=>{let s=t*a,r=s*e;return .001-(s-i)/e9(t,a)*Math.exp(-r)},n=t=>{let s=t*a*e,n=Math.pow(a,2)*Math.pow(t,2)*e,o=e9(Math.pow(t,2),a);return(s*i+i-n)*Math.exp(-s)*(-r(t)+.001>0?-1:1)/o}):(r=t=>-.001+Math.exp(-t*e)*((t-i)*e+1),n=t=>e*e*(i-t)*Math.exp(-t*e));let o=function(e,t,i){let s=i;for(let i=1;i<12;i++)s-=e(s)/t(s);return s}(r,n,5/e);if(e=ei(e),isNaN(o))return{stiffness:e8.stiffness,damping:e8.damping,duration:e};{let t=Math.pow(o,2)*s;return{stiffness:t,damping:2*a*Math.sqrt(s*t),duration:e}}}(e);(t={...t,...i,mass:e8.mass}).isResolvedFromDuration=!0}}return t}({...s,velocity:-es(s.velocity||0)}),f=m||0,g=d/(2*Math.sqrt(h*c)),x=o-a,y=es(Math.sqrt(h/c)),v=5>Math.abs(x);if(r||(r=v?e8.restSpeed.granular:e8.restSpeed.default),n||(n=v?e8.restDelta.granular:e8.restDelta.default),g<1){let e=e9(y,g);i=t=>o-Math.exp(-g*y*t)*((f+g*y*x)/e*Math.sin(e*t)+x*Math.cos(e*t))}else if(1===g)i=e=>o-Math.exp(-y*e)*(x+(f+y*x)*e);else{let e=y*Math.sqrt(g*g-1);i=t=>{let i=Math.exp(-g*y*t),s=Math.min(e*t,300);return o-i*((f+g*y*x)*Math.sinh(s)+e*x*Math.cosh(s))/e}}let b={calculatedDuration:p&&u||null,next:e=>{let t=i(e);if(p)l.done=e>=u;else{let s=0===e?f:0;g<1&&(s=0===e?ei(f):e6(i,e,t));let a=Math.abs(s)<=r,h=Math.abs(o-t)<=n;l.done=a&&h}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(e3(b),2e4),t=e4(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function ts({keyframes:e,velocity:t=0,power:i=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:n=500,modifyTarget:a,min:o,max:l,restDelta:h=.5,restSpeed:d}){let c,u;let m=e[0],p={done:!1,value:m},f=e=>void 0!==o&&e<o||void 0!==l&&e>l,g=e=>void 0===o?l:void 0===l?o:Math.abs(o-e)<Math.abs(l-e)?o:l,x=i*t,y=m+x,v=void 0===a?y:a(y);v!==y&&(x=v-m);let b=e=>-x*Math.exp(-e/s),w=e=>v+b(e),j=e=>{let t=b(e),i=w(e);p.done=Math.abs(t)<=h,p.value=p.done?v:i},T=e=>{f(p.value)&&(c=e,u=ti({keyframes:[p.value,g(p.value)],velocity:e6(w,e,p.value),damping:r,stiffness:n,restDelta:h,restSpeed:d}))};return T(0),{calculatedDuration:null,next:e=>{let t=!1;return(u||void 0!==c||(t=!0,j(e),T(e)),void 0!==c&&e>=c)?u.next(e-c):(t||j(e),p)}}}ti.applyToOptions=e=>{let t=function(e,t=100,i){let s=i({...e,keyframes:[0,t]}),r=Math.min(e3(s),2e4);return{type:"keyframes",ease:e=>s.next(r*e).value/t,duration:es(r)}}(e,100,ti);return e.ease=t.ease,e.duration=ei(t.duration),e.type="keyframes",e};let tr=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e;function tn(e,t,i,s){if(e===t&&i===s)return P;let r=t=>(function(e,t,i,s,r){let n,a;let o=0;do(n=tr(a=t+(i-t)/2,s,r)-e)>0?i=a:t=a;while(Math.abs(n)>1e-7&&++o<12);return a})(t,0,1,e,i);return e=>0===e||1===e?e:tr(r(e),t,s)}let ta=tn(.42,0,1,1),to=tn(0,0,.58,1),tl=tn(.42,0,.58,1),th=e=>Array.isArray(e)&&"number"!=typeof e[0],td=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tc=e=>t=>1-e(1-t),tu=tn(.33,1.53,.69,.99),tm=tc(tu),tp=td(tm),tf=e=>(e*=2)<1?.5*tm(e):.5*(2-Math.pow(2,-10*(e-1))),tg=e=>1-Math.sin(Math.acos(e)),tx=tc(tg),ty=td(tg),tv=e=>Array.isArray(e)&&"number"==typeof e[0],tb={linear:P,easeIn:ta,easeInOut:tl,easeOut:to,circIn:tg,circInOut:ty,circOut:tx,backIn:tm,backInOut:tp,backOut:tu,anticipate:tf},tw=e=>"string"==typeof e,tj=e=>{if(tv(e)){ea(4===e.length,"Cubic bezier arrays must contain four numerical values.");let[t,i,s,r]=e;return tn(t,i,s,r)}return tw(e)?(ea(void 0!==tb[e],`Invalid easing type '${e}'`),tb[e]):e},tT=(e,t,i)=>{let s=t-e;return 0===s?1:(i-e)/s};function tk({duration:e=300,keyframes:t,times:i,ease:s="easeInOut"}){let r=th(s)?s.map(tj):tj(s),n={done:!1,value:t[0]},a=function(e,t,{clamp:i=!0,ease:s,mixer:r}={}){let n=e.length;if(ea(n===t.length,"Both input and output ranges must be the same length"),1===n)return()=>t[0];if(2===n&&t[0]===t[1])return()=>t[1];let a=e[0]===e[1];e[0]>e[n-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,i){let s=[],r=i||A.mix||e2,n=e.length-1;for(let i=0;i<n;i++){let n=r(e[i],e[i+1]);t&&(n=ee(Array.isArray(t)?t[i]||P:t,n)),s.push(n)}return s}(t,s,r),l=o.length,h=i=>{if(a&&i<e[0])return t[0];let s=0;if(l>1)for(;s<e.length-2&&!(i<e[s+1]);s++);let r=tT(e[s],e[s+1],i);return o[s](r)};return i?t=>h(et(e[0],e[n-1],t)):h}((i&&i.length===t.length?i:function(e){let t=[0];return function(e,t){let i=e[e.length-1];for(let s=1;s<=t;s++){let r=tT(0,t,s);e.push(e_(i,1,r))}}(t,e.length-1),t}(t)).map(t=>t*e),t,{ease:Array.isArray(r)?r:t.map(()=>r||tl).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(n.value=a(t),n.done=t>=e,n)}}let tN=e=>null!==e;function tS(e,{repeat:t,repeatType:i="loop"},s,r=1){let n=e.filter(tN),a=r<0||t&&"loop"!==i&&t%2==1?0:n.length-1;return a&&void 0!==s?s:n[a]}let tP={decay:ts,inertia:ts,tween:tk,keyframes:tk,spring:ti};function tA(e){"string"==typeof e.type&&(e.type=tP[e.type])}class tM{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let tD=e=>e/100;class tE extends tM{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;if(e&&e.updatedAt!==q.now()&&this.tick(q.now()),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:t}=this.options;t&&t()},er.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;tA(e);let{type:t=tk,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:n=0}=e,{keyframes:a}=e,o=t||tk;o!==tk&&"number"!=typeof a[0]&&(this.mixKeyframes=ee(tD,e2(a[0],a[1])),a=[0,100]);let l=o({...e,keyframes:a});"mirror"===r&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-n})),null===l.calculatedDuration&&(l.calculatedDuration=e3(l));let{calculatedDuration:h}=l;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:n,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return i.next(0);let{delay:l=0,keyframes:h,repeat:d,repeatType:c,repeatDelay:u,type:m,onUpdate:p,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=s);let y=this.currentTime,v=i;if(d){let e=Math.min(this.currentTime,s)/a,t=Math.floor(e),i=e%1;!i&&e>=1&&(i=1),1===i&&t--,(t=Math.min(t,d+1))%2&&("reverse"===c?(i=1-i,u&&(i-=u/a)):"mirror"===c&&(v=n)),y=et(0,1,i)*a}let b=x?{done:!1,value:h[0]}:v.next(y);r&&(b.value=r(b.value));let{done:w}=b;x||null===o||(w=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);let j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&m!==ts&&(b.value=tS(h,this.options,f,this.speed)),p&&p(b.value),j&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return es(this.calculatedDuration)}get time(){return es(this.currentTime)}set time(e){e=ei(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(q.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=es(this.currentTime))}play(){if(this.isStopped)return;let{driver:e=e5,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();let s=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=s):null!==this.holdTime?this.startTime=s-this.holdTime:this.startTime||(this.startTime=i??s),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(q.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,er.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}let tC=e=>180*e/Math.PI,tV=e=>tL(tC(Math.atan2(e[1],e[0]))),tR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:tV,rotateZ:tV,skewX:e=>tC(Math.atan(e[1])),skewY:e=>tC(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},tL=e=>((e%=360)<0&&(e+=360),e),tF=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),tB=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),tO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tF,scaleY:tB,scale:e=>(tF(e)+tB(e))/2,rotateX:e=>tL(tC(Math.atan2(e[6],e[5]))),rotateY:e=>tL(tC(Math.atan2(-e[2],e[0]))),rotateZ:tV,rotate:tV,skewX:e=>tC(Math.atan(e[4])),skewY:e=>tC(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function tU(e){return e.includes("scale")?1:0}function tI(e,t){let i,s;if(!e||"none"===e)return tU(t);let r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(r)i=tO,s=r;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=tR,s=t}if(!s)return tU(t);let n=i[t],a=s[1].split(",").map(tW);return"function"==typeof n?n(a):a[n]}let t$=(e,t)=>{let{transform:i="none"}=getComputedStyle(e);return tI(i,t)};function tW(e){return parseFloat(e.trim())}let tq=e=>e===eu||e===eP,t_=new Set(["x","y","z"]),tH=F.filter(e=>!t_.has(e)),tz={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>tI(t,"x"),y:(e,{transform:t})=>tI(t,"y")};tz.translateX=tz.x,tz.translateY=tz.y;let tY=new Set,tG=!1,tK=!1,tX=!1;function tZ(){if(tK){let e=Array.from(tY).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),i=new Map;t.forEach(e=>{let t=function(e){let t=[];return tH.forEach(i=>{let s=e.getValue(i);void 0!==s&&(t.push([i,s.get()]),s.set(i.startsWith("scale")?1:0))}),t}(e);t.length&&(i.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=i.get(e);t&&t.forEach(([t,i])=>{e.getValue(t)?.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}tK=!1,tG=!1,tY.forEach(e=>e.complete(tX)),tY.clear()}function tJ(){tY.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(tK=!0)})}class tQ{constructor(e,t,i,s,r,n=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=r,this.isAsync=n}scheduleResolve(){this.isScheduled=!0,this.isAsync?(tY.add(this),tG||(tG=!0,C.read(tJ),C.resolveKeyframes(tZ))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;if(null===e[0]){let r=s?.get(),n=e[e.length-1];if(void 0!==r)e[0]=r;else if(i&&t){let s=i.readValue(t,n);null!=s&&(e[0]=s)}void 0===e[0]&&(e[0]=n),s&&void 0===r&&s.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),tY.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,tY.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let t0=e=>e.startsWith("--");function t1(e){let t;return()=>(void 0===t&&(t=e()),t)}let t2=t1(()=>void 0!==window.ScrollTimeline),t5={},t4=function(e,t){let i=t1(e);return()=>t5[t]??i()}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),t3=([e,t,i,s])=>`cubic-bezier(${e}, ${t}, ${i}, ${s})`,t6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:t3([0,.65,.55,1]),circOut:t3([.55,0,1,.45]),backIn:t3([.31,.01,.66,-.59]),backOut:t3([.33,1.53,.69,.99])};function t8(e){return"function"==typeof e&&"applyToOptions"in e}class t9 extends tM{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;let{element:t,name:i,keyframes:s,pseudoElement:r,allowFlatten:n=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=!!r,this.allowFlatten=n,this.options=e,ea("string"!=typeof e.type,'animateMini doesn\'t support "type" as a string. Did you mean to import { spring } from "motion"?');let l=function({type:e,...t}){return t8(e)&&t4()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,i,{delay:s=0,duration:r=300,repeat:n=0,repeatType:a="loop",ease:o="easeOut",times:l}={},h){let d={[t]:i};l&&(d.offset=l);let c=function e(t,i){if(t)return"function"==typeof t?t4()?e4(t,i):"ease-out":tv(t)?t3(t):Array.isArray(t)?t.map(t=>e(t,i)||t6.easeOut):t6[t]}(o,r);Array.isArray(c)&&(d.easing=c),D.value&&er.waapi++;let u={delay:s,duration:r,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:n+1,direction:"reverse"===a?"alternate":"normal"};h&&(u.pseudoElement=h);let m=e.animate(d,u);return D.value&&m.finished.finally(()=>{er.waapi--}),m}(t,i,s,l,r),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){let e=tS(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,i){t0(t)?e.style.setProperty(t,i):e.style[t]=i}(t,i,e),this.animation.cancel()}o?.(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return es(Number(this.animation.effect?.getComputedTiming?.().duration||0))}get time(){return es(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ei(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&t2())?(this.animation.timeline=e,P):t(this)}}let t7={anticipate:tf,backInOut:tp,circInOut:ty};class ie extends t9{constructor(e){(function(e){"string"==typeof e.ease&&e.ease in t7&&(e.ease=t7[e.ease])})(e),tA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:i,onComplete:s,element:r,...n}=this.options;if(!t)return;if(void 0!==e){t.set(e);return}let a=new tE({...n,autoplay:!1}),o=ei(this.finishedTime??this.time);t.setWithVelocity(a.sample(o-10).value,a.sample(o).value,10),a.stop()}}let it=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(e$.test(e)||"0"===e)&&!e.startsWith("url(")),ii=new Set(["opacity","clipPath","filter","transform"]),is=t1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class ir extends tM{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:n="loop",keyframes:a,name:o,motionValue:l,element:h,...d}){super(),this.stop=()=>{this._animation?(this._animation.stop(),this.stopTimeline?.()):this.keyframeResolver?.cancel()},this.createdAt=q.now();let c={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:r,repeatType:n,name:o,motionValue:l,element:h,...d},u=h?.KeyframeResolver||tQ;this.keyframeResolver=new u(a,(e,t,i)=>this.onKeyframesResolved(e,t,c,!i),o,l,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,s){this.keyframeResolver=void 0;let{name:r,type:n,velocity:a,delay:o,isHandoff:l,onUpdate:h}=i;this.resolvedAt=q.now(),!function(e,t,i,s){let r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;let n=e[e.length-1],a=it(r,t),o=it(n,t);return en(a===o,`You are trying to animate ${t} from "${r}" to "${n}". ${r} is not an animatable value - to enable this animation set ${r} to a value animatable to ${n} via the \`style\` property.`),!!a&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}(e)||("spring"===i||t8(i))&&s)}(e,r,n,a)&&((A.instantAnimations||!o)&&h?.(tS(e,i,t)),e[0]=e[e.length-1],i.duration=0,i.repeat=0);let d={startTime:s?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},c=!l&&function(e){let{motionValue:t,name:i,repeatDelay:s,repeatType:r,damping:n,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return is()&&i&&ii.has(i)&&("transform"!==i||!l)&&!o&&!s&&"mirror"!==r&&0!==n&&"inertia"!==a}(d)?new ie({...d,element:d.motionValue.owner.current}):new tE(d);c.finished.then(()=>this.notifyFinished()).catch(P),this.pendingTimeline&&(this.stopTimeline=c.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=c}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(tX=!0,tJ(),tZ(),tX=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}let ia=e=>null!==e,io={type:"spring",stiffness:500,damping:25,restSpeed:10},il=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),ih={type:"keyframes",duration:.8},id={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ic=(e,{keyframes:t})=>t.length>2?ih:B.has(e)?e.startsWith("scale")?il(t[1]):io:id,iu=(e,t,i,s={},r,n)=>a=>{let o=S(s,e)||{},l=o.delay||s.delay||0,{elapsed:h=0}=s;h-=ei(l);let d={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-h,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:n?void 0:r};!function({when:e,delay:t,delayChildren:i,staggerChildren:s,staggerDirection:r,repeat:n,repeatType:a,repeatDelay:o,from:l,elapsed:h,...d}){return!!Object.keys(d).length}(o)&&Object.assign(d,ic(e,d)),d.duration&&(d.duration=ei(d.duration)),d.repeatDelay&&(d.repeatDelay=ei(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let c=!1;if(!1!==d.type&&(0!==d.duration||d.repeatDelay)||(d.duration=0,0!==d.delay||(c=!0)),(A.instantAnimations||A.skipAnimations)&&(c=!0,d.duration=0,d.delay=0),d.allowFlatten=!o.type&&!o.ease,c&&!n&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:i="loop"},s){let r=e.filter(ia),n=t&&"loop"!==i&&t%2==1?0:r.length-1;return n&&void 0!==s?s:r[n]}(d.keyframes,o);if(void 0!==e){C.update(()=>{d.onUpdate(e),d.onComplete()});return}}return new ir(d)};function im(e,t,{delay:i=0,transitionOverride:s,type:r}={}){let{transition:n=e.getDefaultTransition(),transitionEnd:a,...o}=t;s&&(n=s);let l=[],h=r&&e.animationState&&e.animationState.getState()[r];for(let t in o){let s=e.getValue(t,e.latestValues[t]??null),r=o[t];if(void 0===r||h&&function({protectedKeys:e,needsAnimating:t},i){let s=e.hasOwnProperty(i)&&!0!==t[i];return t[i]=!1,s}(h,t))continue;let a={delay:i,...S(n||{},t)},d=s.get();if(void 0!==d&&!s.isAnimating&&!Array.isArray(r)&&r===d&&!a.velocity)continue;let c=!1;if(window.MotionHandoffAnimation){let i=e.props[J];if(i){let e=window.MotionHandoffAnimation(i,t,C);null!==e&&(a.startTime=e,c=!0)}}X(e,t),s.start(iu(t,s,r,e.shouldReduceMotion&&O.has(t)?{type:!1}:a,e,c));let u=s.animation;u&&l.push(u)}return a&&Promise.all(l).then(()=>{C.update(()=>{a&&function(e,t){let{transitionEnd:i={},transition:s={},...r}=N(e,t)||{};for(let t in r={...r,...i}){var n;let i=G(n=r[t])?n[n.length-1]||0:n;e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,Y(i))}}(e,a)})}),l}function ip(e,t,i={}){let s=N(e,t,"exit"===i.type?e.presenceContext?.custom:void 0),{transition:r=e.getDefaultTransition()||{}}=s||{};i.transitionOverride&&(r=i.transitionOverride);let n=s?()=>Promise.all(im(e,s,i)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(s=0)=>{let{delayChildren:n=0,staggerChildren:a,staggerDirection:o}=r;return function(e,t,i=0,s=0,r=1,n){let a=[],o=(e.variantChildren.size-1)*s,l=1===r?(e=0)=>e*s:(e=0)=>o-e*s;return Array.from(e.variantChildren).sort(ig).forEach((e,s)=>{e.notify("AnimationStart",t),a.push(ip(e,t,{...n,delay:i+l(s)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,n+s,a,o,i)}:()=>Promise.resolve(),{when:o}=r;if(!o)return Promise.all([n(),a(i.delay)]);{let[e,t]="beforeChildren"===o?[n,a]:[a,n];return e().then(()=>t())}}function ig(e,t){return e.sortNodePosition(t)}function ix(e,t){if(!Array.isArray(t))return!1;let i=t.length;if(i!==e.length)return!1;for(let s=0;s<i;s++)if(t[s]!==e[s])return!1;return!0}function iy(e){return"string"==typeof e||Array.isArray(e)}let iv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ib=["initial",...iv],iw=ib.length,ij=[...iv].reverse(),iT=iv.length;function ik(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iN(){return{animate:ik(!0),whileInView:ik(),whileHover:ik(),whileTap:ik(),whileDrag:ik(),whileFocus:ik(),exit:ik()}}class iS{constructor(e){this.isMounted=!1,this.node=e}update(){}}class iP extends iS{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:i})=>(function(e,t,i={}){let s;if(e.notify("AnimationStart",t),Array.isArray(t))s=Promise.all(t.map(t=>ip(e,t,i)));else if("string"==typeof t)s=ip(e,t,i);else{let r="function"==typeof t?N(e,t,i.custom):t;s=Promise.all(im(e,r,i))}return s.then(()=>{e.notify("AnimationComplete",t)})})(e,t,i))),i=iN(),s=!0,r=t=>(i,s)=>{let r=N(e,s,"exit"===t?e.presenceContext?.custom:void 0);if(r){let{transition:e,transitionEnd:t,...s}=r;i={...i,...s,...t}}return i};function n(n){let{props:a}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let i=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(i.initial=t.props.initial),i}let i={};for(let e=0;e<iw;e++){let s=ib[e],r=t.props[s];(iy(r)||!1===r)&&(i[s]=r)}return i}(e.parent)||{},l=[],h=new Set,d={},c=1/0;for(let t=0;t<iT;t++){var u;let m=ij[t],p=i[m],f=void 0!==a[m]?a[m]:o[m],g=iy(f),x=m===n?p.isActive:null;!1===x&&(c=t);let y=f===o[m]&&f!==a[m]&&g;if(y&&s&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...d},!p.isActive&&null===x||!f&&!p.prevProp||j(f)||"boolean"==typeof f)continue;let v=(u=p.prevProp,"string"==typeof f?f!==u:!!Array.isArray(f)&&!ix(f,u)),b=v||m===n&&p.isActive&&!y&&g||t>c&&g,w=!1,T=Array.isArray(f)?f:[f],k=T.reduce(r(m),{});!1===x&&(k={});let{prevResolvedValues:N={}}=p,S={...N,...k},P=t=>{b=!0,h.has(t)&&(w=!0,h.delete(t)),p.needsAnimating[t]=!0;let i=e.getValue(t);i&&(i.liveStyle=!1)};for(let e in S){let t=k[e],i=N[e];if(!d.hasOwnProperty(e))(G(t)&&G(i)?ix(t,i):t===i)?void 0!==t&&h.has(e)?P(e):p.protectedKeys[e]=!0:null!=t?P(e):h.add(e)}p.prevProp=f,p.prevResolvedValues=k,p.isActive&&(d={...d,...k}),s&&e.blockInitialAnimation&&(b=!1);let A=!(y&&v)||w;b&&A&&l.push(...T.map(e=>({animation:e,options:{type:m}})))}if(h.size){let t={};if("boolean"!=typeof a.initial){let i=N(e,Array.isArray(a.initial)?a.initial[0]:a.initial);i&&i.transition&&(t.transition=i.transition)}h.forEach(i=>{let s=e.getBaseTarget(i),r=e.getValue(i);r&&(r.liveStyle=!0),t[i]=s??null}),l.push({animation:t})}let m=!!l.length;return s&&(!1===a.initial||a.initial===a.animate)&&!e.manuallyAnimateOnMount&&(m=!1),s=!1,m?t(l):Promise.resolve()}return{animateChanges:n,setActive:function(t,s){if(i[t].isActive===s)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,s)),i[t].isActive=s;let r=n(t);for(let e in i)i[e].protectedKeys={};return r},setAnimateFunction:function(i){t=i(e)},getState:()=>i,reset:()=>{i=iN(),s=!0}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();j(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let iA=0;class iM extends iS{constructor(){super(...arguments),this.id=iA++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;let s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}let iD={x:!1,y:!1};function iE(e,t,i,s={passive:!0}){return e.addEventListener(t,i,s),()=>e.removeEventListener(t,i)}let iC=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function iV(e){return{point:{x:e.pageX,y:e.pageY}}}let iR=e=>t=>iC(t)&&e(t,iV(t));function iL(e,t,i,s){return iE(e,t,iR(i),s)}function iF({top:e,left:t,right:i,bottom:s}){return{x:{min:t,max:i},y:{min:e,max:s}}}function iB(e){return e.max-e.min}function iO(e,t,i,s=.5){e.origin=s,e.originPoint=e_(t.min,t.max,e.origin),e.scale=iB(i)/iB(t),e.translate=e_(i.min,i.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function iU(e,t,i,s){iO(e.x,t.x,i.x,s?s.originX:void 0),iO(e.y,t.y,i.y,s?s.originY:void 0)}function iI(e,t,i){e.min=i.min+t.min,e.max=e.min+iB(t)}function i$(e,t,i){e.min=t.min-i.min,e.max=e.min+iB(t)}function iW(e,t,i){i$(e.x,t.x,i.x),i$(e.y,t.y,i.y)}let iq=()=>({translate:0,scale:1,origin:0,originPoint:0}),i_=()=>({x:iq(),y:iq()}),iH=()=>({min:0,max:0}),iz=()=>({x:iH(),y:iH()});function iY(e){return[e("x"),e("y")]}function iG(e){return void 0===e||1===e}function iK({scale:e,scaleX:t,scaleY:i}){return!iG(e)||!iG(t)||!iG(i)}function iX(e){return iK(e)||iZ(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iZ(e){var t,i;return(t=e.x)&&"0%"!==t||(i=e.y)&&"0%"!==i}function iJ(e,t,i,s,r){return void 0!==r&&(e=s+r*(e-s)),s+i*(e-s)+t}function iQ(e,t=0,i=1,s,r){e.min=iJ(e.min,t,i,s,r),e.max=iJ(e.max,t,i,s,r)}function i0(e,{x:t,y:i}){iQ(e.x,t.translate,t.scale,t.originPoint),iQ(e.y,i.translate,i.scale,i.originPoint)}function i1(e,t){e.min=e.min+t,e.max=e.max+t}function i2(e,t,i,s,r=.5){let n=e_(e.min,e.max,r);iQ(e,t,i,n,s)}function i5(e,t){i2(e.x,t.x,t.scaleX,t.scale,t.originX),i2(e.y,t.y,t.scaleY,t.scale,t.originY)}function i4(e,t){return iF(function(e,t){if(!t)return e;let i=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:s.y,right:s.x}}(e.getBoundingClientRect(),t))}let i3=({current:e})=>e?e.ownerDocument.defaultView:null;function i6(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let i8=(e,t)=>Math.abs(e-t);class i9{constructor(e,t,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=st(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,i=function(e,t){return Math.sqrt(i8(e.x,t.x)**2+i8(e.y,t.y)**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!i)return;let{point:s}=e,{timestamp:r}=R;this.history.push({...s,timestamp:r});let{onStart:n,onMove:a}=this.handlers;t||(n&&n(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=i7(t,this.transformPagePoint),C.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:i,onSessionEnd:s,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=st("pointercancel"===e.type?this.lastMoveEventInfo:i7(t,this.transformPagePoint),this.history);this.startEvent&&i&&i(e,n),s&&s(e,n)},!iC(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i,this.contextWindow=s||window;let n=i7(iV(e),this.transformPagePoint),{point:a}=n,{timestamp:o}=R;this.history=[{...a,timestamp:o}];let{onSessionStart:l}=t;l&&l(e,st(n,this.history)),this.removeListeners=ee(iL(this.contextWindow,"pointermove",this.handlePointerMove),iL(this.contextWindow,"pointerup",this.handlePointerUp),iL(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),V(this.updatePoint)}}function i7(e,t){return t?{point:t(e.point)}:e}function se(e,t){return{x:e.x-t.x,y:e.y-t.y}}function st({point:e},t){return{point:e,delta:se(e,si(t)),offset:se(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,s=null,r=si(e);for(;i>=0&&(s=e[i],!(r.timestamp-s.timestamp>ei(.1)));)i--;if(!s)return{x:0,y:0};let n=es(r.timestamp-s.timestamp);if(0===n)return{x:0,y:0};let a={x:(r.x-s.x)/n,y:(r.y-s.y)/n};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,0)}}function si(e){return e[e.length-1]}function ss(e,t,i){return{min:void 0!==t?e.min+t:void 0,max:void 0!==i?e.max+i-(e.max-e.min):void 0}}function sr(e,t){let i=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,s]=[s,i]),{min:i,max:s}}function sn(e,t,i){return{min:sa(e,t),max:sa(e,i)}}function sa(e,t){return"number"==typeof e?e:e[t]||0}let so=new WeakMap;class sl{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=iz(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let{dragSnapToOrigin:s}=this.getProps();this.panSession=new i9(e,{onSessionStart:e=>{let{dragSnapToOrigin:i}=this.getProps();i?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(iV(e).point)},onStart:(e,t)=>{let{drag:i,dragPropagation:s,onDragStart:r}=this.getProps();if(i&&!s&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===i||"y"===i?iD[i]?null:(iD[i]=!0,()=>{iD[i]=!1}):iD.x||iD.y?null:(iD.x=iD.y=!0,()=>{iD.x=iD.y=!1}),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),iY(e=>{let t=this.getAxisMotionValue(e).get()||0;if(eS.test(t)){let{projection:i}=this.visualElement;if(i&&i.layout){let s=i.layout.layoutBox[e];if(s){let e=iB(s);t=parseFloat(t)/100*e}}}this.originPoint[e]=t}),r&&C.postRender(()=>r(e,t)),X(this.visualElement,"transform");let{animationState:n}=this.visualElement;n&&n.setActive("whileDrag",!0)},onMove:(e,t)=>{let{dragPropagation:i,dragDirectionLock:s,onDirectionLock:r,onDrag:n}=this.getProps();if(!i&&!this.openDragLock)return;let{offset:a}=t;if(s&&null===this.currentDirection){this.currentDirection=function(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}(a),null!==this.currentDirection&&r&&r(this.currentDirection);return}this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),n&&n(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>iY(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,contextWindow:i3(this.visualElement)})}stop(e,t){let i=this.isDragging;if(this.cancel(),!i)return;let{velocity:s}=t;this.startAnimation(s);let{onDragEnd:r}=this.getProps();r&&C.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){let{drag:s}=this.getProps();if(!i||!sh(e,s,this.currentDirection))return;let r=this.getAxisMotionValue(e),n=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(n=function(e,{min:t,max:i},s){return void 0!==t&&e<t?e=s?e_(t,e,s.min):Math.max(e,t):void 0!==i&&e>i&&(e=s?e_(i,e,s.max):Math.min(e,i)),e}(n,this.constraints[e],this.elastic[e])),r.set(n)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&i6(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=function(e,{top:t,left:i,bottom:s,right:r}){return{x:ss(e.x,i,r),y:ss(e.y,t,s)}}(i.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:sn(e,"left","right"),y:sn(e,"top","bottom")}}(t),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&iY(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){let i={};return void 0!==t.min&&(i.min=t.min-e.min),void 0!==t.max&&(i.max=t.max-e.min),i}(i.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!i6(t))return!1;let s=t.current;ea(null!==s,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let n=function(e,t,i){let s=i4(e,i),{scroll:r}=t;return r&&(i1(s.x,r.offset.x),i1(s.y,r.offset.y)),s}(s,r.root,this.visualElement.getTransformPagePoint()),a={x:sr((e=r.layout.layoutBox).x,n.x),y:sr(e.y,n.y)};if(i){let e=i(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=iF(e))}return a}startAnimation(e){let{drag:t,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:n,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{};return Promise.all(iY(a=>{if(!sh(a,t,this.currentDirection))return;let l=o&&o[a]||{};n&&(l={min:0,max:0});let h={type:"inertia",velocity:i?e[a]:0,bounceStiffness:s?200:1e6,bounceDamping:s?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(a,h)})).then(a)}startAxisValueAnimation(e,t){let i=this.getAxisMotionValue(e);return X(this.visualElement,e),i.start(iu(e,i,0,t,this.visualElement,!1))}stopAnimation(){iY(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){iY(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps();return i[t]||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){iY(t=>{let{drag:i}=this.getProps();if(!sh(t,i,this.currentDirection))return;let{projection:s}=this.visualElement,r=this.getAxisMotionValue(t);if(s&&s.layout){let{min:i,max:n}=s.layout.layoutBox[t];r.set(e[t]-e_(i,n,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!i6(t)||!i||!this.constraints)return;this.stopAnimation();let s={x:0,y:0};iY(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){let i=t.get();s[e]=function(e,t){let i=.5,s=iB(e),r=iB(t);return r>s?i=tT(t.min,t.max-s,e.min):s>r&&(i=tT(e.min,e.max-r,t.min)),et(0,1,i)}({min:i,max:i},this.constraints[e])}});let{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),iY(t=>{if(!sh(t,e,null))return;let i=this.getAxisMotionValue(t),{min:r,max:n}=this.constraints[t];i.set(e_(r,n,s[t]))})}addListeners(){if(!this.visualElement.current)return;so.set(this.visualElement,this);let e=iL(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:i=!0}=this.getProps();t&&i&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();i6(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",t);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),C.read(t);let r=iE(window,"resize",()=>this.scalePositionWithinConstraints()),n=i.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(iY(t=>{let i=this.getAxisMotionValue(t);i&&(this.originPoint[t]+=e[t].translate,i.set(i.get()+e[t].translate))}),this.visualElement.render())});return()=>{r(),e(),s(),n&&n()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:n=.35,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:n,dragMomentum:a}}}function sh(e,t,i){return(!0===t||t===e)&&(null===i||i===e)}class sd extends iS{constructor(e){super(e),this.removeGroupControls=P,this.removeListeners=P,this.controls=new sl(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||P}unmount(){this.removeGroupControls(),this.removeListeners()}}let sc=e=>(t,i)=>{e&&C.postRender(()=>e(t,i))};class su extends iS{constructor(){super(...arguments),this.removePointerDownListener=P}onPointerDown(e){this.session=new i9(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:i3(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:sc(e),onStart:sc(t),onMove:i,onEnd:(e,t)=>{delete this.session,s&&C.postRender(()=>s(e,t))}}}mount(){this.removePointerDownListener=iL(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let{schedule:sm,cancel:sp}=E(queueMicrotask,!1),sf=(0,o.createContext)(null),sg=(0,o.createContext)({}),sx=(0,o.createContext)({}),sy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let sb={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!eP.test(e))return e;e=parseFloat(e)}let i=sv(e,t.target.x),s=sv(e,t.target.y);return`${i}% ${s}%`}},sw={};class sj extends o.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;(function(e){for(let t in e)sw[t]=e[t],el(t)&&(sw[t].isCSSVariable=!0)})(sk),r&&(t.group&&t.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),sy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:i,drag:s,isPresent:r}=this.props,{projection:n}=i;return n&&(n.isPresent=r,s||e.layoutDependency!==t||void 0===t||e.isPresent!==r?n.willUpdate():this.safeToRemove(),e.isPresent===r||(r?n.promote():n.relegate()||C.postRender(()=>{let e=n.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),sm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sT(e){let[t,i]=function(e=!0){let t=(0,o.useContext)(sf);if(null===t)return[!0,null];let{isPresent:i,onExitComplete:s,register:r}=t,n=(0,o.useId)();(0,o.useEffect)(()=>{if(e)return r(n)},[e]);let a=(0,o.useCallback)(()=>e&&s&&s(n),[n,s,e]);return!i&&s?[!1,a]:[!0]}(),s=(0,o.useContext)(sg);return(0,a.jsx)(sj,{...e,layoutGroup:s,switchLayoutGroup:(0,o.useContext)(sx),isPresent:t,safeToRemove:i})}let sk={borderRadius:{...sb,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sb,borderTopRightRadius:sb,borderBottomLeftRadius:sb,borderBottomRightRadius:sb,boxShadow:{correct:(e,{treeScale:t,projectionDelta:i})=>{let s=e$.parse(e);if(s.length>5)return e;let r=e$.createTransformer(e),n="number"!=typeof s[0]?1:0,a=i.x.scale*t.x,o=i.y.scale*t.y;s[0+n]/=a,s[1+n]/=o;let l=e_(a,o,.5);return"number"==typeof s[2+n]&&(s[2+n]/=l),"number"==typeof s[3+n]&&(s[3+n]/=l),r(s)}}},sN=(e,t)=>e.depth-t.depth;class sS{constructor(){this.children=[],this.isDirty=!1}add(e){U(this.children,e),this.isDirty=!0}remove(e){I(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sN),this.isDirty=!1,this.children.forEach(e)}}function sP(e){return K(e)?e.get():e}let sA=["TopLeft","TopRight","BottomLeft","BottomRight"],sM=sA.length,sD=e=>"string"==typeof e?parseFloat(e):e,sE=e=>"number"==typeof e||eP.test(e);function sC(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let sV=sL(0,.5,tx),sR=sL(.5,.95,P);function sL(e,t,i){return s=>s<e?0:s>t?1:i(tT(e,t,s))}function sF(e,t){e.min=t.min,e.max=t.max}function sB(e,t){sF(e.x,t.x),sF(e.y,t.y)}function sO(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function sU(e,t,i,s,r){return e-=t,e=s+1/i*(e-s),void 0!==r&&(e=s+1/r*(e-s)),e}function sI(e,t,[i,s,r],n,a){!function(e,t=0,i=1,s=.5,r,n=e,a=e){if(eS.test(t)&&(t=parseFloat(t),t=e_(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let o=e_(n.min,n.max,s);e===n&&(o-=t),e.min=sU(e.min,t,i,o,r),e.max=sU(e.max,t,i,o,r)}(e,t[i],t[s],t[r],t.scale,n,a)}let s$=["x","scaleX","originX"],sW=["y","scaleY","originY"];function sq(e,t,i,s){sI(e.x,t,s$,i?i.x:void 0,s?s.x:void 0),sI(e.y,t,sW,i?i.y:void 0,s?s.y:void 0)}function s_(e){return 0===e.translate&&1===e.scale}function sH(e){return s_(e.x)&&s_(e.y)}function sz(e,t){return e.min===t.min&&e.max===t.max}function sY(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function sG(e,t){return sY(e.x,t.x)&&sY(e.y,t.y)}function sK(e){return iB(e.x)/iB(e.y)}function sX(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sZ{constructor(){this.members=[]}add(e){U(this.members,e),e.scheduleRender()}remove(e){if(I(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t;let i=this.members.findIndex(t=>e===t);if(0===i)return!1;for(let e=i;e>=0;e--){let i=this.members[e];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:s}=e.options;!1===s&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let sJ={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},sQ=["","X","Y","Z"],s0={visibility:"hidden"},s1=0;function s2(e,t,i,s){let{latestValues:r}=t;r[e]&&(i[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function s5({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(e={},i=t?.()){this.id=s1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,D.value&&(sJ.nodes=sJ.calculatedTargetDeltas=sJ.calculatedProjections=0),this.nodes.forEach(s6),this.nodes.forEach(rs),this.nodes.forEach(rr),this.nodes.forEach(s8),D.addProjectionMetrics&&D.addProjectionMetrics(sJ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new sS)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new $),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let i=this.eventHandlers.get(e);i&&i.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;let{layoutId:i,layout:s,visualElement:r}=this.options;if(r&&!r.current&&r.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(s||i)&&(this.isLayoutDirty=!0),e){let i;let s=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,i&&i(),i=function(e,t){let i=q.now(),s=({timestamp:r})=>{let n=r-i;n>=t&&(V(s),e(n-t))};return C.setup(s,!0),()=>V(s)}(s,250),sy.hasAnimatedSinceResize&&(sy.hasAnimatedSinceResize=!1,this.nodes.forEach(ri))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&r&&(i||s)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:i,layout:s})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let n=this.options.transition||r.getDefaultTransition()||rd,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=r.getProps(),l=!this.targetLayout||!sG(this.targetLayout,s),h=!t&&i;if(this.options.layoutRoot||this.resumeFrom||h||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,h);let t={...S(n,"layout"),onPlay:a,onComplete:o};(r.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||ri(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),V(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rn),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:i}=t.options;if(!i)return;let s=i.props[J];if(window.MotionHasOptimisedAnimation(s,"transform")){let{layout:e,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",C,!(e||i))}let{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&e(r)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:i}=this.options;if(void 0===t&&!i)return;let s=this.getTransformTemplate();this.prevTransformTemplateValue=s?s(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(s7);return}this.isUpdating||this.nodes.forEach(re),this.isUpdating=!1,this.nodes.forEach(rt),this.nodes.forEach(s4),this.nodes.forEach(s3),this.clearAllSnapshots();let e=q.now();R.delta=et(0,1e3/60,e-R.timestamp),R.timestamp=e,R.isProcessing=!0,L.update.process(R),L.preRender.process(R),L.render.process(R),R.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(s9),this.sharedNodes.forEach(ra)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,C.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){C.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),!this.snapshot||iB(this.snapshot.measuredBox.x)||iB(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=iz(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!r)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!sH(this.projectionDelta),i=this.getTransformTemplate(),s=i?i(this.latestValues,""):void 0,n=s!==this.prevTransformTemplateValue;e&&this.instance&&(t||iX(this.latestValues)||n)&&(r(this.instance,s),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let i=this.measurePageBox(),s=this.removeElementScroll(i);return e&&(s=this.removeTransform(s)),rm((t=s).x),rm(t.y),{animationId:this.root.animationId,measuredBox:i,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return iz();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(rf))){let{scroll:e}=this.root;e&&(i1(t.x,e.offset.x),i1(t.y,e.offset.y))}return t}removeElementScroll(e){let t=iz();if(sB(t,e),this.scroll?.wasRoot)return t;for(let i=0;i<this.path.length;i++){let s=this.path[i],{scroll:r,options:n}=s;s!==this.root&&r&&n.layoutScroll&&(r.wasRoot&&sB(t,e),i1(t.x,r.offset.x),i1(t.y,r.offset.y))}return t}applyTransform(e,t=!1){let i=iz();sB(i,e);for(let e=0;e<this.path.length;e++){let s=this.path[e];!t&&s.options.layoutScroll&&s.scroll&&s!==s.root&&i5(i,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),iX(s.latestValues)&&i5(i,s.latestValues)}return iX(this.latestValues)&&i5(i,this.latestValues),i}removeTransform(e){let t=iz();sB(t,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];if(!i.instance||!iX(i.latestValues))continue;iK(i.latestValues)&&i.updateSnapshot();let s=iz();sB(s,i.measurePageBox()),sq(t,i.latestValues,i.snapshot?i.snapshot.layoutBox:void 0,s)}return iX(this.latestValues)&&sq(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==R.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let i=!!this.resumingFrom||this!==t;if(!(e||i&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:s,layoutId:r}=this.options;if(this.layout&&(s||r)){if(this.resolvedRelativeTargetAt=R.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=iz(),this.relativeTargetOrigin=iz(),iW(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),sB(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target=iz(),this.targetWithTransforms=iz()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var n,a,o;this.forceRelativeParentToResolveTarget(),n=this.target,a=this.relativeTarget,o=this.relativeParent.target,iI(n.x,a.x,o.x),iI(n.y,a.y,o.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sB(this.target,this.layout.layoutBox),i0(this.target,this.targetDelta)):sB(this.target,this.layout.layoutBox);if(this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=iz(),this.relativeTargetOrigin=iz(),iW(this.relativeTargetOrigin,this.target,e.target),sB(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}D.value&&sJ.calculatedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||iK(this.parent.latestValues)||iZ(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,i=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(i=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===R.timestamp&&(i=!1),i)return;let{layout:s,layoutId:r}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(s||r))return;sB(this.layoutCorrected,this.layout.layoutBox);let n=this.treeScale.x,a=this.treeScale.y;(function(e,t,i,s=!1){let r,n;let a=i.length;if(a){t.x=t.y=1;for(let o=0;o<a;o++){n=(r=i[o]).projectionDelta;let{visualElement:a}=r.options;(!a||!a.props.style||"contents"!==a.props.style.display)&&(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&i5(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),n&&(t.x*=n.x.scale,t.y*=n.y.scale,i0(e,n)),s&&iX(r.latestValues)&&i5(e,r.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}})(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=iz());let{target:o}=e;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(sO(this.prevProjectionDelta.x,this.projectionDelta.x),sO(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),iU(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===n&&this.treeScale.y===a&&sX(this.projectionDelta.x,this.prevProjectionDelta.x)&&sX(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o)),D.value&&sJ.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=i_(),this.projectionDelta=i_(),this.projectionDeltaWithTransform=i_()}setAnimationOrigin(e,t=!1){let i;let s=this.snapshot,r=s?s.latestValues:{},n={...this.latestValues},a=i_();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=iz(),l=(s?s.source:void 0)!==(this.layout?this.layout.source:void 0),h=this.getStack(),d=!h||h.members.length<=1,c=!!(l&&!d&&!0===this.options.crossfade&&!this.path.some(rh));this.animationProgress=0,this.mixTargetDelta=t=>{let s=t/1e3;if(ro(a.x,e.x,s),ro(a.y,e.y,s),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var h,u,m,p;iW(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m=this.relativeTarget,p=this.relativeTargetOrigin,rl(m.x,p.x,o.x,s),rl(m.y,p.y,o.y,s),i&&(h=this.relativeTarget,u=i,sz(h.x,u.x)&&sz(h.y,u.y))&&(this.isProjectionDirty=!1),i||(i=iz()),sB(i,this.relativeTarget)}l&&(this.animationValues=n,function(e,t,i,s,r,n){r?(e.opacity=e_(0,i.opacity??1,sV(s)),e.opacityExit=e_(t.opacity??1,0,sR(s))):n&&(e.opacity=e_(t.opacity??1,i.opacity??1,s));for(let r=0;r<sM;r++){let n=`border${sA[r]}Radius`,a=sC(t,n),o=sC(i,n);(void 0!==a||void 0!==o)&&(a||(a=0),o||(o=0),0===a||0===o||sE(a)===sE(o)?(e[n]=Math.max(e_(sD(a),sD(o),s),0),(eS.test(o)||eS.test(a))&&(e[n]+="%")):e[n]=o)}(t.rotate||i.rotate)&&(e.rotate=e_(t.rotate||0,i.rotate||0,s))}(n,r,this.latestValues,s,c,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=s},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(V(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=C.update(()=>{sy.hasAnimatedSinceResize=!0,er.layout++,this.currentAnimation=function(e,t,i){let s=K(e)?e:Y(e);return s.start(iu("",s,1e3,i)),s.animation}(0,0,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{er.layout--},onComplete:()=>{er.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:i,layout:s,latestValues:r}=e;if(t&&i&&s){if(this!==e&&this.layout&&s&&rp(this.options.animationType,this.layout.layoutBox,s.layoutBox)){i=this.target||iz();let t=iB(this.layout.layoutBox.x);i.x.min=e.target.x.min,i.x.max=i.x.min+t;let s=iB(this.layout.layoutBox.y);i.y.min=e.target.y.min,i.y.max=i.y.min+s}sB(t,i),i5(t,r),iU(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new sZ),this.sharedNodes.get(e).add(t);let i=t.options.initialPromotionConfig;t.promote({transition:i?i.transition:void 0,preserveFollowOpacity:i&&i.shouldPreserveFollowOpacity?i.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:i}={}){let s=this.getStack();s&&s.promote(this,i),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:i}=e;if((i.z||i.rotate||i.rotateX||i.rotateY||i.rotateZ||i.skewX||i.skewY)&&(t=!0),!t)return;let s={};i.z&&s2("z",e,s,this.animationValues);for(let t=0;t<sQ.length;t++)s2(`rotate${sQ[t]}`,e,s,this.animationValues),s2(`skew${sQ[t]}`,e,s,this.animationValues);for(let t in e.render(),s)e.setStaticValue(t,s[t]),this.animationValues&&(this.animationValues[t]=s[t]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return s0;let t={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=sP(e?.pointerEvents)||"",t.transform=i?i(this.latestValues,""):"none",t;let s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){let t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=sP(e?.pointerEvents)||""),this.hasProjected&&!iX(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}let r=s.animationValues||s.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,i){let s="",r=e.x.translate/t.x,n=e.y.translate/t.y,a=i?.z||0;if((r||n||a)&&(s=`translate3d(${r}px, ${n}px, ${a}px) `),(1!==t.x||1!==t.y)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),i){let{transformPerspective:e,rotate:t,rotateX:r,rotateY:n,skewX:a,skewY:o}=i;e&&(s=`perspective(${e}px) ${s}`),t&&(s+=`rotate(${t}deg) `),r&&(s+=`rotateX(${r}deg) `),n&&(s+=`rotateY(${n}deg) `),a&&(s+=`skewX(${a}deg) `),o&&(s+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(s+=`scale(${o}, ${l})`),s||"none"}(this.projectionDeltaWithTransform,this.treeScale,r),i&&(t.transform=i(r,t.transform));let{x:n,y:a}=this.projectionDelta;for(let e in t.transformOrigin=`${100*n.origin}% ${100*a.origin}% 0`,s.animationValues?t.opacity=s===this?r.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:t.opacity=s===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0,sw){if(void 0===r[e])continue;let{correct:i,applyTo:n,isCSSVariable:a}=sw[e],o="none"===t.transform?r[e]:i(r[e],s);if(n){let e=n.length;for(let i=0;i<e;i++)t[n[i]]=o}else a?this.options.visualElement.renderState.vars[e]=o:t[e]=o}return this.options.layoutId&&(t.pointerEvents=s===this?sP(e?.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(s7),this.root.sharedNodes.clear()}}}function s4(e){e.updateLayout()}function s3(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:i,measuredBox:s}=e.layout,{animationType:r}=e.options,n=t.source!==e.layout.source;"size"===r?iY(e=>{let s=n?t.measuredBox[e]:t.layoutBox[e],r=iB(s);s.min=i[e].min,s.max=s.min+r}):rp(r,t.layoutBox,i)&&iY(s=>{let r=n?t.measuredBox[s]:t.layoutBox[s],a=iB(i[s]);r.max=r.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[s].max=e.relativeTarget[s].min+a)});let a=i_();iU(a,i,t.layoutBox);let o=i_();n?iU(o,e.applyTransform(s,!0),t.measuredBox):iU(o,i,t.layoutBox);let l=!sH(a),h=!1;if(!e.resumeFrom){let s=e.getClosestProjectingParent();if(s&&!s.resumeFrom){let{snapshot:r,layout:n}=s;if(r&&n){let a=iz();iW(a,t.layoutBox,r.layoutBox);let o=iz();iW(o,i,n.layoutBox),sG(a,o)||(h=!0),s.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=s)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:h})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function s6(e){D.value&&sJ.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function s8(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function s9(e){e.clearSnapshot()}function s7(e){e.clearMeasurements()}function re(e){e.isLayoutDirty=!1}function rt(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ri(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rs(e){e.resolveTargetDelta()}function rr(e){e.calcProjection()}function rn(e){e.resetSkewAndRotation()}function ra(e){e.removeLeadSnapshot()}function ro(e,t,i){e.translate=e_(t.translate,0,i),e.scale=e_(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function rl(e,t,i,s){e.min=e_(t.min,i.min,s),e.max=e_(t.max,i.max,s)}function rh(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let rd={duration:.45,ease:[.4,0,.1,1]},rc=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ru=rc("applewebkit/")&&!rc("chrome/")?Math.round:P;function rm(e){e.min=ru(e.min),e.max=ru(e.max)}function rp(e,t,i){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(sK(t)-sK(i)))}function rf(e){return e!==e.root&&e.scroll?.wasRoot}let rg=s5({attachResizeListener:(e,t)=>iE(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rx={current:void 0},ry=s5({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rx.current){let e=new rg({});e.mount(window),e.setOptions({layoutScroll:!0}),rx.current=e}return rx.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function rv(e,t){let i=function(e,t,i){if(e instanceof EventTarget)return[e];if("string"==typeof e){let i=document;t&&(i=t.current);let s=(void 0)??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),s=new AbortController;return[i,{passive:!0,...t,signal:s.signal},()=>s.abort()]}function rb(e){return!("touch"===e.pointerType||iD.x||iD.y)}function rw(e,t,i){let{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover","Start"===i);let r=s["onHover"+i];r&&C.postRender(()=>r(t,iV(t)))}class rj extends iS{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[s,r,n]=rv(e,i),a=e=>{if(!rb(e))return;let{target:i}=e,s=t(i,e);if("function"!=typeof s||!i)return;let n=e=>{rb(e)&&(s(e),i.removeEventListener("pointerleave",n))};i.addEventListener("pointerleave",n,r)};return s.forEach(e=>{e.addEventListener("pointerenter",a,r)}),n}(e,(e,t)=>(rw(this.node,t,"Start"),e=>rw(this.node,e,"End"))))}unmount(){}}class rT extends iS{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ee(iE(this.node.current,"focus",()=>this.onFocus()),iE(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}let rk=(e,t)=>!!t&&(e===t||rk(e,t.parentElement)),rN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),rS=new WeakSet;function rP(e){return t=>{"Enter"===t.key&&e(t)}}function rA(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}let rM=(e,t)=>{let i=e.currentTarget;if(!i)return;let s=rP(()=>{if(rS.has(i))return;rA(i,"down");let e=rP(()=>{rA(i,"up")});i.addEventListener("keyup",e,t),i.addEventListener("blur",()=>rA(i,"cancel"),t)});i.addEventListener("keydown",s,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",s),t)};function rD(e){return iC(e)&&!(iD.x||iD.y)}function rE(e,t,i){let{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap","Start"===i);let r=s["onTap"+("End"===i?"":i)];r&&C.postRender(()=>r(t,iV(t)))}class rC extends iS{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[s,r,n]=rv(e,i),a=e=>{let s=e.currentTarget;if(!rD(e)||rS.has(s))return;rS.add(s);let n=t(s,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),rS.has(s)&&rS.delete(s),rD(e)&&"function"==typeof n&&n(e,{success:t})},o=e=>{a(e,s===window||s===document||i.useGlobalTarget||rk(s,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,r),window.addEventListener("pointercancel",l,r)};return s.forEach(e=>{(i.useGlobalTarget?window:e).addEventListener("pointerdown",a,r),e instanceof HTMLElement&&(e.addEventListener("focus",e=>rM(e,r)),rN.has(e.tagName)||-1!==e.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),n}(e,(e,t)=>(rE(this.node,t,"Start"),(e,{success:t})=>rE(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let rV=new WeakMap,rR=new WeakMap,rL=e=>{let t=rV.get(e.target);t&&t(e)},rF=e=>{e.forEach(rL)},rB={some:0,all:1};class rO extends iS{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:r}=e,n={root:t?t.current:void 0,rootMargin:i,threshold:"number"==typeof s?s:rB[s]};return function(e,t,i){let s=function({root:e,...t}){let i=e||document;rR.has(i)||rR.set(i,{});let s=rR.get(i),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(rF,{root:e,...t})),s[r]}(t);return rV.set(e,i),s.observe(e),()=>{rV.delete(e),s.unobserve(e)}}(this.node.current,n,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,r&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:i,onViewportLeave:s}=this.node.getProps(),n=t?i:s;n&&n(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}(e,t))&&this.startObserver()}unmount(){}}let rU=(0,o.createContext)({strict:!1}),rI=(0,o.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),r$=(0,o.createContext)({});function rW(e){return j(e.animate)||ib.some(t=>iy(e[t]))}function rq(e){return!!(rW(e)||e.variants)}function r_(e){return Array.isArray(e)?e.join(" "):e}let rH="undefined"!=typeof window,rz={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rY={};for(let e in rz)rY[e]={isEnabled:t=>rz[e].some(e=>!!t[e])};let rG=Symbol.for("motionComponentSymbol"),rK=rH?o.useLayoutEffect:o.useEffect;function rX(e,{layout:t,layoutId:i}){return B.has(e)||e.startsWith("origin")||(t||void 0!==i)&&(!!sw[e]||"opacity"===e)}let rZ=(e,t)=>t&&"number"==typeof e?t.transform(e):e,rJ={...eu,transform:Math.round},rQ={borderWidth:eP,borderTopWidth:eP,borderRightWidth:eP,borderBottomWidth:eP,borderLeftWidth:eP,borderRadius:eP,radius:eP,borderTopLeftRadius:eP,borderTopRightRadius:eP,borderBottomRightRadius:eP,borderBottomLeftRadius:eP,width:eP,maxWidth:eP,height:eP,maxHeight:eP,top:eP,right:eP,bottom:eP,left:eP,padding:eP,paddingTop:eP,paddingRight:eP,paddingBottom:eP,paddingLeft:eP,margin:eP,marginTop:eP,marginRight:eP,marginBottom:eP,marginLeft:eP,backgroundPositionX:eP,backgroundPositionY:eP,rotate:eN,rotateX:eN,rotateY:eN,rotateZ:eN,scale:ep,scaleX:ep,scaleY:ep,scaleZ:ep,skew:eN,skewX:eN,skewY:eN,distance:eP,translateX:eP,translateY:eP,translateZ:eP,x:eP,y:eP,z:eP,perspective:eP,transformPerspective:eP,opacity:em,originX:eD,originY:eD,originZ:eP,zIndex:rJ,fillOpacity:em,strokeOpacity:em,numOctaves:rJ},r0={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},r1=F.length;function r2(e,t,i){let{style:s,vars:r,transformOrigin:n}=e,a=!1,o=!1;for(let e in t){let i=t[e];if(B.has(e)){a=!0;continue}if(el(e)){r[e]=i;continue}{let t=rZ(i,rQ[e]);e.startsWith("origin")?(o=!0,n[e]=t):s[e]=t}}if(!t.transform&&(a||i?s.transform=function(e,t,i){let s="",r=!0;for(let n=0;n<r1;n++){let a=F[n],o=e[a];if(void 0===o)continue;let l=!0;if(!(l="number"==typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o))||i){let e=rZ(o,rQ[a]);if(!l){r=!1;let t=r0[a]||a;s+=`${t}(${e}) `}i&&(t[a]=e)}}return s=s.trim(),i?s=i(t,r?"":s):r&&(s="none"),s}(t,e.transform,i):s.transform&&(s.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:i=0}=n;s.transformOrigin=`${e} ${t} ${i}`}}let r5=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r4(e,t,i){for(let s in t)K(t[s])||rX(s,i)||(e[s]=t[s])}let r3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function r6(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||r3.has(e)}let r8=e=>!r6(e);try{!function(e){e&&(r8=t=>t.startsWith("on")?!r6(t):e(t))}(require("@emotion/is-prop-valid").default)}catch{}let r9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function r7(e){if("string"!=typeof e||e.includes("-"));else if(r9.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let ne={offset:"stroke-dashoffset",array:"stroke-dasharray"},nt={offset:"strokeDashoffset",array:"strokeDasharray"};function ni(e,{attrX:t,attrY:i,attrScale:s,pathLength:r,pathSpacing:n=1,pathOffset:a=0,...o},l,h,d){if(r2(e,o,h),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:c,style:u}=e;c.transform&&(u.transform=c.transform,delete c.transform),(u.transform||c.transformOrigin)&&(u.transformOrigin=c.transformOrigin??"50% 50%",delete c.transformOrigin),u.transform&&(u.transformBox=d?.transformBox??"fill-box",delete c.transformBox),void 0!==t&&(c.x=t),void 0!==i&&(c.y=i),void 0!==s&&(c.scale=s),void 0!==r&&function(e,t,i=1,s=0,r=!0){e.pathLength=1;let n=r?ne:nt;e[n.offset]=eP.transform(-s);let a=eP.transform(t),o=eP.transform(i);e[n.array]=`${a} ${o}`}(c,r,n,a,!1)}let ns=()=>({...r5(),attrs:{}}),nr=e=>"string"==typeof e&&"svg"===e.toLowerCase(),nn=e=>(t,i)=>{let s=(0,o.useContext)(r$),r=(0,o.useContext)(sf),n=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},i,s,r){return{latestValues:function(e,t,i,s){let r={},n=s(e,{});for(let e in n)r[e]=sP(n[e]);let{initial:a,animate:o}=e,l=rW(e),h=rq(e);t&&h&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let d=!!i&&!1===i.initial,c=(d=d||!1===a)?o:a;if(c&&"boolean"!=typeof c&&!j(c)){let t=Array.isArray(c)?c:[c];for(let i=0;i<t.length;i++){let s=k(e,t[i]);if(s){let{transitionEnd:e,transition:t,...i}=s;for(let e in i){let t=i[e];if(Array.isArray(t)){let e=d?t.length-1:0;t=t[e]}null!==t&&(r[e]=t)}for(let t in e)r[t]=e[t]}}}return r}(i,s,r,e),renderState:t()}})(e,t,s,r);return i?n():function(e){let t=(0,o.useRef)(null);return null===t.current&&(t.current=e()),t.current}(n)};function na(e,t,i){let{style:s}=e,r={};for(let n in s)(K(s[n])||t.style&&K(t.style[n])||rX(n,e)||i?.getValue(n)?.liveStyle!==void 0)&&(r[n]=s[n]);return r}let no={useVisualState:nn({scrapeMotionValuesFromProps:na,createRenderState:r5})};function nl(e,t,i){let s=na(e,t,i);for(let i in e)(K(e[i])||K(t[i]))&&(s[-1!==F.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]);return s}let nh={useVisualState:nn({scrapeMotionValuesFromProps:nl,createRenderState:ns})},nd=e=>t=>t.test(e),nc=[eu,eP,eS,eN,eM,eA,{test:e=>"auto"===e,parse:e=>e}],nu=e=>nc.find(nd(e)),nm=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),np=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,nf=e=>/^0[^.\s]+$/u.test(e),ng=new Set(["brightness","contrast","saturate","opacity"]);function nx(e){let[t,i]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[s]=i.match(eg)||[];if(!s)return e;let r=i.replace(s,""),n=ng.has(t)?1:0;return s!==i&&(n*=100),t+"("+n+r+")"}let ny=/\b([a-z-]*)\(.*?\)/gu,nv={...e$,getAnimatableNone:e=>{let t=e.match(ny);return t?t.map(nx).join(" "):e}},nb={...rQ,color:eC,backgroundColor:eC,outlineColor:eC,fill:eC,stroke:eC,borderColor:eC,borderTopColor:eC,borderRightColor:eC,borderBottomColor:eC,borderLeftColor:eC,filter:nv,WebkitFilter:nv},nw=e=>nb[e];function nj(e,t){let i=nw(e);return i!==nv&&(i=e$),i.getAnimatableNone?i.getAnimatableNone(t):void 0}let nT=new Set(["auto","none","0"]);class nk extends tQ{constructor(e,t,i,s,r){super(e,t,i,s,r,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let i=0;i<e.length;i++){let s=e[i];if("string"==typeof s&&ed(s=s.trim())){let r=function e(t,i,s=1){ea(s<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[r,n]=function(e){let t=np.exec(e);if(!t)return[,];let[,i,s,r]=t;return[`--${i??s}`,r]}(t);if(!r)return;let a=window.getComputedStyle(i).getPropertyValue(r);if(a){let e=a.trim();return nm(e)?parseFloat(e):e}return ed(n)?e(n,i,s+1):n}(s,t.current);void 0!==r&&(e[i]=r),i===e.length-1&&(this.finalKeyframe=s)}}if(this.resolveNoneKeyframes(),!O.has(i)||2!==e.length)return;let[s,r]=e,n=nu(s),a=nu(r);if(n!==a){if(tq(n)&&tq(a))for(let t=0;t<e.length;t++){let i=e[t];"string"==typeof i&&(e[t]=parseFloat(i))}else tz[i]&&(this.needsMeasurement=!0)}}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,i=[];for(let t=0;t<e.length;t++){var s;(null===e[t]||("number"==typeof(s=e[t])?0===s:null===s||"none"===s||"0"===s||nf(s)))&&i.push(t)}i.length&&function(e,t,i){let s,r=0;for(;r<e.length&&!s;){let t=e[r];"string"==typeof t&&!nT.has(t)&&eB(t).values.length&&(s=e[r]),r++}if(s&&i)for(let r of t)e[r]=nj(i,s)}(e,i,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;"height"===i&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tz[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let s=t[t.length-1];void 0!==s&&e.getValue(i,s).jump(s,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;let s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);let r=i.length-1,n=i[r];i[r]=tz[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==n&&void 0===this.finalKeyframe&&(this.finalKeyframe=n),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,i])=>{e.getValue(t).set(i)}),this.resolveNoneKeyframes()}}let nN=[...nc,eC,e$],nS=e=>nN.find(nd(e)),nP={current:null},nA={current:!1},nM=new WeakMap,nD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nE{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:n},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tQ,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=q.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,C.render(this.render,!1,!0))};let{latestValues:o,renderState:l}=n;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=rW(t),this.isVariantNode=rq(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:h,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in d){let t=d[e];void 0!==o[e]&&K(t)&&t.set(o[e],!1)}}mount(e){this.current=e,nM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),nA.current||function(){if(nA.current=!0,rH){if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>nP.current=e.matches;e.addListener(t),t()}else nP.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||nP.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),V(this.notifyUpdate),V(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){let i;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let s=B.has(e);s&&this.onBindTransform&&this.onBindTransform();let r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&C.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),n=t.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),n(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in rY){let t=rY[e];if(!t)continue;let{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):iz()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<nD.length;t++){let i=nD[t];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);let s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=function(e,t,i){for(let s in t){let r=t[s],n=i[s];if(K(r))e.addValue(s,r);else if(K(n))e.addValue(s,Y(r,{owner:e}));else if(n!==r){if(e.hasValue(s)){let t=e.getValue(s);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{let t=e.getStaticValue(s);e.addValue(s,Y(void 0!==t?t:r,{owner:e}))}}}for(let s in i)void 0===t[s]&&e.removeValue(s);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return void 0===i&&void 0!==t&&(i=Y(null===t?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return null!=i&&("string"==typeof i&&(nm(i)||nf(i))?i=parseFloat(i):!nS(i)&&e$.test(t)&&(i=nj(e,t)),this.setBaseTarget(e,K(i)?i.get():i)),K(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t;let{initial:i}=this.props;if("string"==typeof i||"object"==typeof i){let s=k(this.props,i,this.presenceContext?.custom);s&&(t=s[e])}if(i&&void 0!==t)return t;let s=this.getBaseTargetFromProps(this.props,e);return void 0===s||K(s)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new $),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class nC extends nE{constructor(){super(...arguments),this.KeyframeResolver=nk}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;K(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function nV(e,{style:t,vars:i},s,r){for(let n in Object.assign(e.style,t,r&&r.getProjectionStyles(s)),i)e.style.setProperty(n,i[n])}class nR extends nC{constructor(){super(...arguments),this.type="html",this.renderInstance=nV}readValueFromInstance(e,t){if(B.has(t))return t$(e,t);{let i=window.getComputedStyle(e),s=(el(t)?i.getPropertyValue(t):i[t])||0;return"string"==typeof s?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return i4(e,t)}build(e,t,i){r2(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return na(e,t,i)}}let nL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class nF extends nC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=iz}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(B.has(t)){let e=nw(t);return e&&e.default||0}return t=nL.has(t)?t:Z(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return nl(e,t,i)}build(e,t,i){ni(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,s){!function(e,t,i,s){for(let i in nV(e,t,void 0,s),t.attrs)e.setAttribute(nL.has(i)?i:Z(i),t.attrs[i])}(e,t,0,s)}mount(e){this.isSVGTag=nr(e.tagName),super.mount(e)}}let nB=function(e){if("undefined"==typeof Proxy)return e;let t=new Map;return new Proxy((...t)=>e(...t),{get:(i,s)=>"create"===s?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}((r={animation:{Feature:iP},exit:{Feature:iM},inView:{Feature:rO},tap:{Feature:rC},focus:{Feature:rT},hover:{Feature:rj},pan:{Feature:su},drag:{Feature:sd,ProjectionNode:ry,MeasureLayout:sT},layout:{ProjectionNode:ry,MeasureLayout:sT}},n=(e,t)=>r7(e)?new nF(t):new nR(t,{allowProjection:e!==o.Fragment}),function(e,{forwardMotionProps:t}={forwardMotionProps:!1}){return function({preloadedFeatures:e,createVisualElement:t,useRender:i,useVisualState:s,Component:r}){function n(e,n){var l;let h;let d={...(0,o.useContext)(rI),...e,layoutId:function({layoutId:e}){let t=(0,o.useContext)(sg).id;return t&&void 0!==e?t+"-"+e:e}(e)},{isStatic:c}=d,u=function(e){let{initial:t,animate:i}=function(e,t){if(rW(e)){let{initial:t,animate:i}=e;return{initial:!1===t||iy(t)?t:void 0,animate:iy(i)?i:void 0}}return!1!==e.inherit?t:{}}(e,(0,o.useContext)(r$));return(0,o.useMemo)(()=>({initial:t,animate:i}),[r_(t),r_(i)])}(e),m=s(e,c);if(!c&&rH){(0,o.useContext)(rU).strict;let e=function(e){let{drag:t,layout:i}=rY;if(!t&&!i)return{};let s={...t,...i};return{MeasureLayout:t?.isEnabled(e)||i?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}(d);h=e.MeasureLayout,u.visualElement=function(e,t,i,s,r){let{visualElement:n}=(0,o.useContext)(r$),a=(0,o.useContext)(rU),l=(0,o.useContext)(sf),h=(0,o.useContext)(rI).reducedMotion,d=(0,o.useRef)(null);s=s||a.renderer,!d.current&&s&&(d.current=s(e,{visualState:t,parent:n,props:i,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:h}));let c=d.current,u=(0,o.useContext)(sx);c&&!c.projection&&r&&("html"===c.type||"svg"===c.type)&&function(e,t,i,s){let{layoutId:r,layout:n,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:h,layoutCrossfade:d}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:r,layout:n,alwaysMeasureLayout:!!a||o&&i6(o),visualElement:e,animationType:"string"==typeof n?n:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:l,layoutRoot:h})}(d.current,i,r,u);let m=(0,o.useRef)(!1);(0,o.useInsertionEffect)(()=>{c&&m.current&&c.update(i,l)});let p=i[J],f=(0,o.useRef)(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return rK(()=>{c&&(m.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),sm.render(c.render),f.current&&c.animationState&&c.animationState.animateChanges())}),(0,o.useEffect)(()=>{c&&(!f.current&&c.animationState&&c.animationState.animateChanges(),f.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),f.current=!1))}),c}(r,m,d,t,e.ProjectionNode)}return(0,a.jsxs)(r$.Provider,{value:u,children:[h&&u.visualElement?(0,a.jsx)(h,{visualElement:u.visualElement,...d}):null,i(r,e,(l=u.visualElement,(0,o.useCallback)(e=>{e&&m.onMount&&m.onMount(e),l&&(e?l.mount(e):l.unmount()),n&&("function"==typeof n?n(e):i6(n)&&(n.current=e))},[l])),m,c,u.visualElement)]})}e&&function(e){for(let t in e)rY[t]={...rY[t],...e[t]}}(e),n.displayName=`motion.${"string"==typeof r?r:`create(${r.displayName??r.name??""})`}`;let l=(0,o.forwardRef)(n);return l[rG]=r,l}({...r7(e)?nh:no,preloadedFeatures:r,useRender:function(e=!1){return(t,i,s,{latestValues:r},n)=>{let a=(r7(t)?function(e,t,i,s){let r=(0,o.useMemo)(()=>{let i=ns();return ni(i,t,nr(s),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){let t={};r4(t,e.style,e),r.style={...t,...r.style}}return r}:function(e,t){let i={},s=function(e,t){let i=e.style||{},s={};return r4(s,i,e),Object.assign(s,function({transformTemplate:e},t){return(0,o.useMemo)(()=>{let i=r5();return r2(i,t,e),Object.assign({},i.vars,i.style)},[t])}(e,t)),s}(e,t);return e.drag&&!1!==e.dragListener&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=s,i})(i,r,n,t),l=function(e,t,i){let s={};for(let r in e)("values"!==r||"object"!=typeof e.values)&&(r8(r)||!0===i&&r6(r)||!t&&!r6(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}(i,"string"==typeof t,e),h=t!==o.Fragment?{...l,...a,ref:s}:{},{children:d}=i,c=(0,o.useMemo)(()=>K(d)?d.get():d,[d]);return(0,o.createElement)(t,{...h,children:c})}}(t),createVisualElement:n,Component:e})})),nO=({activities:e})=>{let t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}},hover:{y:-10,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{duration:.3}}};return(0,a.jsxs)("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8 border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-100 flex items-center justify-center",children:a.jsx(g,{className:"w-6 h-6 text-primary-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Unforgettable Experiences"}),a.jsx("p",{className:"text-gray-600",children:"Discover handpicked attractions and activities for your journey"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.map((e,i)=>(0,a.jsxs)(nB.div,{className:"rounded-xl overflow-hidden border border-gray-200 bg-white hover:border-primary-200 transition-all",variants:t,initial:"hidden",animate:"visible",whileHover:"hover",transition:{delay:.1*i},children:[(0,a.jsxs)("div",{className:"relative h-56 overflow-hidden",children:[a.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"}),a.jsx("div",{className:"absolute top-4 right-4 bg-white bg-opacity-90 backdrop-blur-sm py-1 px-3 rounded-full",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(x,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,a.jsxs)("span",{className:"ml-1 text-sm font-medium",children:[e.rating,"/5"]})]})}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:[a.jsx("div",{className:"inline-block bg-primary-600 text-white text-xs px-2 py-1 rounded-md mb-2",children:e.category}),a.jsx("h3",{className:"text-xl font-bold text-white",children:e.name})]})]}),(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("div",{className:"prose prose-sm mb-4",children:a.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})}),(0,a.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(y,{className:"w-4 h-4 mr-2 text-primary-500 flex-shrink-0"}),a.jsx("span",{children:e.openingHours})]}),e.location&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(g,{className:"w-4 h-4 mr-2 text-primary-500 flex-shrink-0"}),a.jsx("span",{children:e.location})]}),e.price&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx("span",{className:"font-bold mr-2 text-primary-500 flex-shrink-0",children:"฿"}),a.jsx("span",{children:e.price})]}),e.bestTimeToVisit&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(v,{className:"w-4 h-4 mr-2 text-primary-500 flex-shrink-0"}),(0,a.jsxs)("span",{children:["Best time: ",e.bestTimeToVisit]})]})]}),e.highlights&&e.highlights.length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center",children:[a.jsx(b,{className:"w-4 h-4 mr-1 text-primary-500"}),"Highlights"]}),a.jsx("ul",{className:"space-y-1",children:e.highlights.map((e,t)=>(0,a.jsxs)("li",{className:"text-sm text-gray-700 flex items-start",children:[a.jsx("span",{className:"text-primary-500 mr-2",children:"•"}),e]},t))})]}),a.jsx("div",{className:"mt-5 pt-4 border-t border-gray-100",children:(0,a.jsxs)("button",{className:"text-primary-600 hover:text-primary-800 text-sm font-medium flex items-center transition-colors",children:["View full details",a.jsx(w,{className:"w-3.5 h-3.5 ml-1"})]})})]})]},e.id))}),0===e.length&&a.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-500",children:"No activities found. Your custom itinerary will appear here."})})]})},nU=f("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),nI=f("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),n$=({restaurants:e})=>{let t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}},hover:{y:-10,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{duration:.3}}};return(0,a.jsxs)("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8 border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center",children:a.jsx(nU,{className:"w-6 h-6 text-amber-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Culinary Discoveries"}),a.jsx("p",{className:"text-gray-600",children:"Extraordinary dining experiences tailored to your tastes"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.map((e,i)=>(0,a.jsxs)(nB.div,{className:"rounded-xl overflow-hidden border border-gray-200 bg-white hover:border-amber-200 transition-all",variants:t,initial:"hidden",animate:"visible",whileHover:"hover",transition:{delay:.1*i},children:[(0,a.jsxs)("div",{className:"relative h-56 overflow-hidden",children:[a.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"}),a.jsx("div",{className:"absolute top-4 right-4 bg-white bg-opacity-90 backdrop-blur-sm py-1 px-3 rounded-full",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(x,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,a.jsxs)("span",{className:"ml-1 text-sm font-medium",children:[e.rating,"/5"]})]})}),e.reservationRequired&&a.jsx("div",{className:"absolute top-4 left-4 bg-red-500 text-white text-xs py-1 px-3 rounded-full",children:"Reservation Required"}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:[a.jsx("div",{className:"inline-block bg-amber-600 text-white text-xs px-2 py-1 rounded-md mb-2",children:e.cuisine}),a.jsx("h3",{className:"text-xl font-bold text-white",children:e.name})]})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"flex text-amber-600",children:Array.from({length:4}).map((t,i)=>a.jsx("span",{className:`w-6 h-6 inline-flex items-center justify-center ${i<e.priceRange.length?"opacity-100":"opacity-30"}`,children:"฿"},i))}),e.location&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(g,{className:"w-4 h-4 mr-1 text-amber-500"}),a.jsx("span",{children:e.location})]})]}),(0,a.jsxs)("div",{className:"bg-amber-50 p-4 rounded-lg mb-4 relative",children:[a.jsx(nI,{className:"w-5 h-5 text-amber-500 absolute top-3 left-3"}),(0,a.jsxs)("p",{className:"text-gray-700 text-sm italic pl-8 pr-2",children:['"',e.reviewHighlight,'"']})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[e.hours&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(y,{className:"w-4 h-4 mr-2 text-amber-500 flex-shrink-0"}),a.jsx("span",{children:e.hours})]}),e.specialties&&e.specialties.length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Signature Dishes:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.specialties.map((e,t)=>a.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full",children:e},t))})]})]}),a.jsx("div",{className:"mt-5 pt-4 border-t border-gray-100",children:(0,a.jsxs)("button",{className:"text-amber-600 hover:text-amber-800 text-sm font-medium flex items-center transition-colors",children:["See menu and reviews",a.jsx(w,{className:"w-3.5 h-3.5 ml-1"})]})})]})]},e.id))}),0===e.length&&a.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-500",children:"No restaurants found. Your dining recommendations will appear here."})})]})},nW=f("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),nq=f("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),n_=({flights:e})=>(0,a.jsxs)("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8 border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-teal-100 flex items-center justify-center",children:a.jsx(nW,{className:"w-6 h-6 text-teal-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Seamless Sky Travel"}),a.jsx("p",{className:"text-gray-600",children:"Optimal flight options for your journey based on your preferences"})]})]}),a.jsx("div",{className:"space-y-6",children:e.map((e,t)=>a.jsx(nB.div,{className:"border border-gray-200 rounded-xl overflow-hidden hover:border-teal-200 transition-all bg-white",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t,duration:.5},whileHover:{y:-5,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{duration:.3}},children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[e.airlineLogoUrl?a.jsx("img",{src:e.airlineLogoUrl,alt:e.airline,className:"w-10 h-10 object-contain"}):a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(nW,{className:"w-5 h-5 text-gray-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.airline}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Flight ",e.flightNumber]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-teal-600",children:["฿",e.price.toLocaleString()]}),a.jsx("div",{className:"inline-block px-2 py-1 bg-teal-50 text-teal-800 text-xs rounded",children:e.class})]})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch justify-between mb-6 bg-gray-50 rounded-xl overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-4 md:p-6 flex-1 border-r border-gray-200",children:[a.jsx("div",{className:"text-xs uppercase text-gray-500 mb-1",children:"Departure"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:e.departure.time}),a.jsx("div",{className:"text-sm text-gray-700 font-medium",children:e.departure.airport}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mt-2",children:[a.jsx(v,{className:"w-3 h-3 mr-1"}),e.departure.date]}),e.departure.terminal&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Terminal: ",e.departure.terminal]})]}),(0,a.jsxs)("div",{className:"py-4 px-6 flex flex-col justify-center items-center",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[a.jsx(y,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:e.duration})]}),(0,a.jsxs)("div",{className:"relative w-32 md:w-40 h-6 my-2",children:[a.jsx("div",{className:"absolute top-1/2 left-0 right-0 border-t-2 border-dashed border-gray-300 transform -translate-y-1/2"}),a.jsx("div",{className:"absolute top-1/2 left-0 w-3 h-3 bg-teal-500 rounded-full transform -translate-x-1/2 -translate-y-1/2"}),a.jsx("div",{className:"absolute top-1/2 right-0 w-3 h-3 bg-teal-700 rounded-full transform translate-x-1/2 -translate-y-1/2"}),e.stops&&e.stops>0&&a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:a.jsx("div",{className:"w-5 h-5 bg-amber-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:e.stops})})})]}),e.stops&&e.stops>0?(0,a.jsxs)("div",{className:"text-xs text-amber-600 font-medium flex items-center",children:[e.stops," stop",e.stops>1?"s":"",e.layover&&(0,a.jsxs)("span",{className:"ml-1",children:["• ",e.layover," layover"]})]}):a.jsx("div",{className:"text-xs text-teal-600 font-medium",children:"Direct flight"})]}),(0,a.jsxs)("div",{className:"p-4 md:p-6 flex-1 border-l border-gray-200",children:[a.jsx("div",{className:"text-xs uppercase text-gray-500 mb-1",children:"Arrival"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:e.arrival.time}),a.jsx("div",{className:"text-sm text-gray-700 font-medium",children:e.arrival.airport}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mt-2",children:[a.jsx(v,{className:"w-3 h-3 mr-1"}),e.arrival.date]}),e.arrival.terminal&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Terminal: ",e.arrival.terminal]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col-reverse md:flex-row justify-between items-center",children:[(0,a.jsxs)("div",{className:"w-full md:w-auto mt-4 md:mt-0",children:[e.amenities&&e.amenities.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Amenities:"}),e.amenities.map((e,t)=>a.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:e},t))]}),e.cancellationPolicy&&(0,a.jsxs)("div",{className:"flex items-center mt-2 text-xs text-gray-600",children:[a.jsx(nq,{className:"w-3 h-3 mr-1 text-teal-500"}),e.cancellationPolicy]})]}),(0,a.jsxs)("a",{href:e.bookingUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors text-sm font-medium",children:["Book this flight",a.jsx(w,{className:"w-3.5 h-3.5 ml-1"})]})]})]})},e.id))}),0===e.length&&a.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-500",children:"No flights found. Your flight options will appear here."})})]}),nH=f("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),nz=f("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),nY=f("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),nG=f("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),nK=({videos:e})=>{let[t,i]=(0,o.useState)(null),s=()=>{i(null)},r={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}},hover:{y:-5,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{duration:.3}}};return(0,a.jsxs)("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8 border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(nH,{className:"w-6 h-6 text-red-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Inspiring Visual Stories"}),a.jsx("p",{className:"text-gray-600",children:"Immersive video content to help you explore your destination"})]})]}),a.jsx(nB.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-8",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},initial:"hidden",animate:"visible",children:e.map((e,n)=>(0,a.jsxs)(nB.div,{className:"rounded-xl overflow-hidden border border-gray-200 bg-white hover:border-red-200 transition-all",variants:r,whileHover:"hover",children:[t===e.id?(0,a.jsxs)("div",{className:"relative pt-[56.25%] bg-black",children:[a.jsx("iframe",{src:`${e.embedUrl}?autoplay=1`,className:"absolute inset-0 w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),a.jsx("button",{onClick:s,className:"absolute top-3 right-3 bg-black bg-opacity-70 text-white rounded-full p-1",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):a.jsx("div",{className:"relative group",children:(0,a.jsxs)("div",{className:"relative h-56 overflow-hidden",children:[a.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 group-hover:bg-opacity-30 transition-opacity"}),a.jsx("button",{onClick:()=>i(e.id),className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-red-600 text-white rounded-full w-14 h-14 flex items-center justify-center group-hover:bg-red-700 transition-colors",children:a.jsx(nz,{className:"w-7 h-7 ml-1",fill:"white"})}),(0,a.jsxs)("div",{className:"absolute bottom-3 right-3 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded-md flex items-center",children:[a.jsx(y,{className:"w-3 h-3 mr-1"}),e.duration]}),e.tags&&e.tags.length>0&&a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("span",{className:"bg-red-600 text-white text-xs px-2 py-1 rounded-md",children:e.tags[0]})})]})}),(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-1",children:e.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-between items-center mb-3",children:[e.channel&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mr-4",children:[a.jsx(nY,{className:"w-4 h-4 mr-1 text-gray-400"}),a.jsx("span",{children:e.channel})]}),e.publishDate&&a.jsx("div",{className:"text-sm text-gray-500",children:e.publishDate})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(nG,{className:"w-4 h-4 mr-1 text-gray-400"}),a.jsx("span",{children:e.viewCount})]}),e.likes&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(nI,{className:"w-4 h-4 mr-1 text-gray-400"}),a.jsx("span",{children:e.likes})]})]}),(0,a.jsxs)("a",{href:e.embedUrl,target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:text-red-800 text-sm font-medium flex items-center transition-colors",children:["Watch on YouTube",a.jsx(w,{className:"w-3.5 h-3.5 ml-1"})]})]})]})]},e.id))}),0===e.length&&a.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-500",children:"No videos found. Curated video content will appear here."})})]})};f("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),f("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),f("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),f("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let nX=f("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),nZ=f("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),nJ=({accommodations:e})=>{let t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}},hover:{y:-10,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{duration:.3}}};return(0,a.jsxs)("section",{className:"bg-white rounded-xl shadow-lg p-8 mb-8 border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center",children:a.jsx(nX,{className:"w-6 h-6 text-indigo-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Exceptional Stays"}),a.jsx("p",{className:"text-gray-600",children:"Carefully selected accommodations for your comfort and convenience"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.map((e,i)=>(0,a.jsxs)(nB.div,{className:"rounded-xl overflow-hidden border border-gray-200 bg-white hover:border-indigo-200 transition-all",variants:t,initial:"hidden",animate:"visible",whileHover:"hover",transition:{delay:.1*i},children:[(0,a.jsxs)("div",{className:"relative h-56 overflow-hidden",children:[a.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover transition-transform duration-700 hover:scale-110"}),a.jsx("div",{className:"absolute top-4 right-4 bg-white bg-opacity-90 backdrop-blur-sm py-1 px-3 rounded-full",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(x,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,a.jsxs)("span",{className:"ml-1 text-sm font-medium",children:[e.rating,"/5"]}),(0,a.jsxs)("span",{className:"ml-1 text-xs text-gray-500",children:["(",e.reviewCount,")"]})]})}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:[a.jsx("div",{className:"inline-block bg-indigo-600 text-white text-xs px-2 py-1 rounded-md mb-2",children:e.type}),a.jsx("h3",{className:"text-xl font-bold text-white",children:e.name})]})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"text-xl font-bold text-indigo-600",children:["฿",e.price.toLocaleString()]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 ml-1",children:["/",e.priceUnit]})]}),(0,a.jsxs)("div",{className:"inline-flex items-center px-2 py-1 bg-gray-100 rounded text-sm text-gray-700",children:["via ",e.platform]})]}),e.description&&a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-gray-700 text-sm",children:e.description})}),(0,a.jsxs)("div",{className:"space-y-3 mb-4",children:[e.location&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(g,{className:"w-4 h-4 mr-2 text-indigo-500 flex-shrink-0"}),a.jsx("span",{children:e.location})]}),e.distance&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(nY,{className:"w-4 h-4 mr-2 text-indigo-500 flex-shrink-0"}),(0,a.jsxs)("span",{children:[e.distance," from city center"]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Popular Amenities"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.amenities.slice(0,6).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[a.jsx(nZ,{className:"w-4 h-4 mr-2 text-indigo-500"}),a.jsx("span",{children:e})]},t))})]}),a.jsx("div",{className:"mt-5 pt-4 border-t border-gray-100",children:(0,a.jsxs)("a",{href:e.bookingUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm font-medium",children:["Book this stay",a.jsx(w,{className:"w-3.5 h-3.5 ml-1"})]})})]})]},e.id))}),0===e.length&&a.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-500",children:"No accommodations found. Your stay recommendations will appear here."})})]})},nQ=f("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),n0=f("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),n1=f("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),n2=({isPlanning:e})=>{let{state:t}=u();(0,o.useEffect)(()=>{console.log("Canvas component state:",{hasTripData:!!t.tripData,isPlanning:e,destination:t.tripData?.destination||"None",messagesCount:t.messages.length,hasUserMessages:t.messages.some(e=>"user"===e.role),renderWelcomeMessage:s,renderChatOnly:l})},[t.tripData,e,t.messages.length]);let i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}},s=!t.tripData&&!e&&(0===t.messages.length||1===t.messages.length&&"assistant"===t.messages[0].role),r=e&&!t.tripData,n=!!t.tripData,l=!s&&!r&&!n;return(0,a.jsxs)("div",{className:"h-full overflow-y-auto bg-gradient-to-b from-blue-50 to-white",children:[s&&a.jsx(nB.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center max-w-2xl mx-auto px-6",children:[a.jsx("div",{className:"inline-block p-3 bg-blue-100 rounded-full mb-6",children:a.jsx(nW,{className:"w-10 h-10 text-primary-500"})}),a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Welcome to Travel Planner"}),a.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Start planning your perfect trip by providing your travel details xxxxx."}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Simply use the chat interface on the right to tell us where you want to go, or use the trip input form to provide your destination, dates, and budget."}),(0,a.jsxs)("div",{className:"w-80 h-80 mx-auto relative",children:[a.jsx("div",{className:"absolute inset-0 bg-blue-500 rounded-full opacity-10 animate-pulse"}),a.jsx("img",{src:"/travel-illustration.svg",alt:"Travel planning illustration",className:"w-full h-full object-contain relative z-10"})]})]})}),l&&(0,a.jsxs)(nB.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"h-full p-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Chat with our Travel Assistant"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You're chatting with our AI travel assistant. When you're ready to plan a trip, just ask about planning a trip to your desired destination."})]}),t.messages.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[a.jsx(nQ,{className:"w-6 h-6 text-primary-500 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Chat History"})]}),a.jsx("div",{className:"space-y-4",children:t.messages.map(e=>(0,a.jsxs)("div",{className:`p-4 rounded-lg ${"user"===e.role?"bg-primary-50 border-l-4 border-primary-500 ml-8":"bg-gray-50 border-l-4 border-gray-300 mr-8"}`,children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-2 ${"user"===e.role?"bg-primary-500":"bg-gray-500"}`,children:a.jsx("span",{className:"text-white text-xs font-bold",children:"user"===e.role?"You":"AI"})}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]}),a.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.content})]},e.id))})]})]}),r&&a.jsx("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center max-w-lg mx-auto p-8 rounded-2xl bg-white shadow-lg",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(n0,{className:"w-16 h-16 text-primary-500 animate-spin mx-auto mb-6"}),a.jsx("div",{className:"absolute inset-0 bg-primary-100 rounded-full opacity-30 scale-150 animate-ping"})]}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Crafting Your Dream Itinerary"}),a.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"Our AI agents are collaborating to design your perfect trip experience..."}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3 mt-6",children:[(0,a.jsxs)("div",{className:"text-center p-2 rounded-lg bg-blue-50",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Finding Activities"}),a.jsx("div",{className:"w-full h-1 bg-gray-200 mt-1 overflow-hidden rounded-full",children:a.jsx("div",{className:"h-full bg-blue-500 rounded-full animate-pulse",style:{width:"60%"}})})]}),(0,a.jsxs)("div",{className:"text-center p-2 rounded-lg bg-amber-50",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Researching Dining"}),a.jsx("div",{className:"w-full h-1 bg-gray-200 mt-1 overflow-hidden rounded-full",children:a.jsx("div",{className:"h-full bg-amber-500 rounded-full animate-pulse",style:{width:"40%"}})})]}),(0,a.jsxs)("div",{className:"text-center p-2 rounded-lg bg-green-50",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Planning Routes"}),a.jsx("div",{className:"w-full h-1 bg-gray-200 mt-1 overflow-hidden rounded-full",children:a.jsx("div",{className:"h-full bg-green-500 rounded-full animate-pulse",style:{width:"75%"}})})]})]})]})}),n&&t.tripData&&(0,a.jsxs)(nB.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3}}},initial:"hidden",animate:"visible",className:"p-8",children:[(0,a.jsxs)(nB.div,{variants:i,className:"mb-10 bg-white rounded-2xl shadow-lg p-8 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary-100 rounded-full -translate-y-1/2 translate-x-1/4 opacity-70"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("h1",{className:"text-4xl font-extrabold text-gray-900 mb-3",children:["Your Journey to ",t.tripData.destination]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-lg text-gray-600 mt-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(v,{className:"w-5 h-5 text-primary-500 mr-2"}),(0,a.jsxs)("span",{children:[t.tripData.startDate," to ",t.tripData.endDate]})]}),t.tripData.travelers&&(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(n1,{className:"w-5 h-5 text-primary-500 mr-2"}),(0,a.jsxs)("span",{children:[t.tripData.travelers," travelers"]})]}),t.tripData.budget&&(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-5 h-5 text-primary-500 mr-2 font-bold",children:"฿"}),(0,a.jsxs)("span",{children:["Budget: ",t.tripData.budget]})]})]}),(0,a.jsxs)("p",{className:"text-lg text-gray-700 leading-relaxed max-w-3xl",children:["Welcome to your personalized travel experience in ",t.tripData.destination,"! We've curated an exceptional itinerary featuring stunning attractions, authentic dining experiences, and comfortable accommodations tailored to your preferences. Explore below to discover the highlights of your upcoming adventure."]})]})]}),a.jsx(nB.div,{variants:i,children:a.jsx(nO,{activities:t.tripData.activities})}),a.jsx(nB.div,{variants:i,children:a.jsx(n$,{restaurants:t.tripData.restaurants})}),a.jsx(nB.div,{variants:i,children:a.jsx(n_,{flights:t.tripData.flights})}),a.jsx(nB.div,{variants:i,children:a.jsx(nK,{videos:t.tripData.videos})}),a.jsx(nB.div,{variants:i,children:a.jsx(nJ,{accommodations:t.tripData.accommodations})}),t.messages.length>0&&a.jsx(nB.div,{variants:i,children:(0,a.jsxs)("div",{className:"mt-10 bg-white rounded-2xl shadow-lg p-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[a.jsx(nQ,{className:"w-6 h-6 text-primary-500 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Chat History"})]}),a.jsx("div",{className:"space-y-4",children:t.messages.map(e=>(0,a.jsxs)("div",{className:`p-4 rounded-lg ${"user"===e.role?"bg-primary-50 border-l-4 border-primary-500 ml-8":"bg-gray-50 border-l-4 border-gray-300 mr-8"}`,children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-2 ${"user"===e.role?"bg-primary-500":"bg-gray-500"}`,children:a.jsx("span",{className:"text-white text-xs font-bold",children:"user"===e.role?"You":"AI"})}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]}),a.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.content})]},e.id))})]})})]})]})},n5=f("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),n4=f("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),n3=f("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),n6=f("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),n8=f("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);class n9{constructor(e,t){this.socket=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectTimeout=null,this.sessionId=e,this.handlers=t,this.backendUrl="http://localhost:8000";let i=this.backendUrl.startsWith("https")?"wss":"ws";this.backendUrl=this.backendUrl.replace(/^http(s?):\/\//,`${i}://`)}connect(){try{let e=`${this.backendUrl}/api/ws/${this.sessionId}`;this.socket=new WebSocket(e),this.socket.onopen=this.handleOpen.bind(this),this.socket.onmessage=this.handleMessage.bind(this),this.socket.onclose=this.handleClose.bind(this),this.socket.onerror=this.handleError.bind(this)}catch(e){console.error("WebSocket connection error:",e),this.handlers.onError(e)}}disconnect(){this.socket&&(this.socket.close(),this.socket=null),this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}sendMessage(e){this.socket&&this.socket.readyState===WebSocket.OPEN?this.socket.send(e):(console.error("WebSocket is not connected"),this.handlers.onError(Error("WebSocket is not connected")))}handleOpen(e){console.log("WebSocket connection established"),this.reconnectAttempts=0,this.handlers.onOpen&&this.handlers.onOpen()}handleMessage(e){try{let t=JSON.parse(e.data);t.message&&this.handlers.onMessage(t.message),t.turn_complete&&this.handlers.onTurnComplete(),t.interrupted&&this.handlers.onInterrupted&&this.handlers.onInterrupted()}catch(e){console.error("Error processing WebSocket message:",e),this.handlers.onError(e)}}handleClose(e){console.log(`WebSocket connection closed: ${e.code} ${e.reason}`),1e3!==e.code&&this.attemptReconnect(),this.handlers.onClose&&this.handlers.onClose()}handleError(e){console.error("WebSocket error:",e),this.handlers.onError(e)}attemptReconnect(){if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;let e=Math.min(1e3*Math.pow(2,this.reconnectAttempts),3e4);console.log(`Attempting to reconnect in ${e}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.reconnectTimeout=setTimeout(()=>{console.log(`Reconnecting... (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.connect()},e)}else console.error("Maximum reconnect attempts reached"),this.handlers.onError(Error("Maximum reconnect attempts reached"))}}/**
 * @license lucide-react v0.356.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n7=f("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),ae=f("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),at=({onSubmit:e})=>{let[t,i]=(0,o.useState)({departure:"",destination:"",startDate:"",endDate:"",budgetRange:"medium"}),s=e=>{let{name:t,value:s}=e.target;i(e=>({...e,[t]:s}))};return(0,a.jsxs)("form",{onSubmit:i=>{i.preventDefault(),e(t)},className:"bg-white p-4 rounded-lg border border-gray-200 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(g,{className:"w-4 h-4"}),"Departure Location"]})}),a.jsx("input",{type:"text",name:"departure",value:t.departure,onChange:s,placeholder:"e.g., San Francisco",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(g,{className:"w-4 h-4"}),"Destination"]})}),a.jsx("input",{type:"text",name:"destination",value:t.destination,onChange:s,placeholder:"e.g., Bangkok",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(n7,{className:"w-4 h-4"}),"Start Date"]})}),a.jsx("input",{type:"date",name:"startDate",value:t.startDate,onChange:s,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(n7,{className:"w-4 h-4"}),"End Date"]})}),a.jsx("input",{type:"date",name:"endDate",value:t.endDate,onChange:s,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{className:"w-4 h-4"}),"Budget Range (THB)"]})}),(0,a.jsxs)("select",{name:"budgetRange",value:t.budgetRange,onChange:s,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"budget",children:"Budget (฿ - Under ฿35,000)"}),a.jsx("option",{value:"medium",children:"Medium (฿฿ - ฿35,000-฿105,000)"}),a.jsx("option",{value:"luxury",children:"Luxury (฿฿฿ - Above ฿105,000)"})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-primary-500 text-white py-2 px-4 rounded-lg hover:bg-primary-600 transition-colors font-medium",children:"Plan My Trip"})]})},ai=e=>{try{let t=e.filter(e=>"assistant"===e.role);if(0===t.length)return null;console.log("Looking for trip data in assistant messages:",t.length);let i=/```json\s*({[\s\S]*?})\s*```/;for(let e=t.length-1;e>=0;e--){let s=t[e].content.match(i);if(s&&s[1])try{let e=s[1].trim();console.log("Found JSON data:",e.substring(0,100)+"...");let t=JSON.parse(e);if(t.destination&&(t.activities||t.restaurants||t.flights||t.accommodations))return console.log("Successfully parsed TripData from JSON"),t}catch(e){console.error("Error parsing JSON from message:",e)}}let s=t[t.length-1].content;console.log("Trying to extract trip data from text:",s.substring(0,100)+"...");let r=s.match(/(?:เที่ยว|ไป|ท่องเที่ยว)\s*(?:ที่|ยัง)?\s*([^,\.\n]+)/i),n=s.match(/(\d{1,2}[-\/]\d{1,2}[-\/]\d{4})\s*(?:ถึง|to|-)\s*(\d{1,2}[-\/]\d{1,2}[-\/]\d{4})/i),a=s.match(/งบประมาณ\s*(?:ประมาณ)?\s*([^,\.\n]+)(?:บาท|฿)/i),o={destination:r?r[1].trim():"Bangkok",departure:"No departure specified",startDate:n?n[1]:"2023-05-10",endDate:n?n[2]:"2023-05-15",budget:a?a[1]:"฿30,000",travelers:"2",activities:[{id:"1",name:"Grand Palace",description:"The Grand Palace is a complex of buildings at the heart of Bangkok, Thailand. The palace has been the official residence of the Kings of Siam since 1782.",rating:4.8,openingHours:"8:30 AM - 3:30 PM",imageUrl:"https://images.unsplash.com/photo-1563492065599-3520f775eeed?w=800&auto=format&fit=crop&q=60",category:"Cultural",location:"Na Phra Lan Road, Bangkok",price:"฿500 per person",highlights:["Emerald Buddha","Throne Halls","Royal decorations"],bestTimeToVisit:"Early morning"}],restaurants:[{id:"1",name:"Thipsamai Pad Thai",cuisine:"Thai",priceRange:"฿฿",rating:4.7,reviewHighlight:"The best Pad Thai in Bangkok, a must-visit for authentic Thai flavors!",imageUrl:"https://images.unsplash.com/photo-1559314809-0d155014e29e?w=800&auto=format&fit=crop&q=60",location:"Maha Chai Road, Bangkok",hours:"5:00 PM - 2:00 AM",specialties:["Pad Thai","Fresh spring rolls","Orange juice"],reservationRequired:!1},{id:"2",name:"Raan Jay Fai",cuisine:"Thai Street Food",priceRange:"฿฿฿",rating:4.9,reviewHighlight:"Michelin-starred street food that lives up to the hype. The crab omelette is legendary!",imageUrl:"https://images.unsplash.com/photo-1543352634-a1c51d9f1fa7?w=800&auto=format&fit=crop&q=60",location:"Maha Chai Road, Bangkok",hours:"2:00 PM - 12:00 AM",specialties:["Crab omelette","Drunken noodles","Tom Yum"],reservationRequired:!0}],flights:[{id:"1",airline:"Thai Airways",flightNumber:"TG102",departure:{airport:"SFO",time:"23:55",date:"2023-05-10",terminal:"I"},arrival:{airport:"BKK",time:"06:50",date:"2023-05-12",terminal:"M"},duration:"15h 55m",price:29750,class:"Economy",bookingUrl:"https://www.thaiairways.com",stops:1,layover:"2h 30m in Tokyo",amenities:["In-flight meals","Wi-Fi","Entertainment"],cancellationPolicy:"Free cancellation up to 24 hours before departure"}],videos:[{id:"1",title:"Bangkok Travel Guide - Best Things to Do",description:"Complete guide to Bangkok covering temples, markets, food, and nightlife.",thumbnail:"https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=800&auto=format&fit=crop&q=60",embedUrl:"https://www.youtube.com/embed/tO01J-M3g0U",duration:"12:45",viewCount:"250K",likes:"15K",channel:"Travel Guides",publishDate:"2023-01-15"}],accommodations:[{id:"1",name:"The Siam Hotel",type:"Luxury Hotel",rating:4.9,reviewCount:342,price:8750,priceUnit:"night",amenities:["WiFi","Pool","Private Bathroom","Breakfast","Spa","Fitness Center"],imageUrl:"https://images.unsplash.com/photo-1584132967334-10e028bd69f7?w=800&auto=format&fit=crop&q=60",platform:"Agoda",bookingUrl:"https://www.agoda.com",location:"Riverside, Bangkok",description:"An urban luxury resort with exquisite design and personalized service.",distance:"5 km"}]};return console.log("Using sample trip data for testing"),o}catch(e){return console.error("Error extracting trip data:",e),null}},as=({onPlanningStart:e,onPlanningComplete:t})=>{let{dispatch:i,state:s}=u();(0,o.useEffect)(()=>{0===s.messages.length&&i({type:"SET_MESSAGES",payload:[{id:"1",role:"assistant",content:"สวัสดีค่ะ! ฉันคือผู้ช่วยวางแผนการเดินทางของคุณ บอกฉันหน่อยว่าคุณอยากไปเที่ยวที่ไหน และมีงบประมาณเท่าไหร่คะ?",timestamp:new Date}]})},[]);let[r,n]=(0,o.useState)(""),[l,h]=(0,o.useState)(!1),[d,c]=(0,o.useState)(!1),[m,p]=(0,o.useState)(null),[f,g]=(0,o.useState)(null),[x,y]=(0,o.useState)(!1),[v,b]=(0,o.useState)(null),w=(0,o.useRef)(null),j=(0,o.useRef)(null),T=()=>{w.current?.scrollIntoView({behavior:"smooth"})};(0,o.useEffect)(()=>{T()},[s.messages]),(0,o.useEffect)(()=>(k(),()=>{N()}),[]),(0,o.useEffect)(()=>()=>{v&&clearTimeout(v)},[v]),(0,o.useEffect)(()=>{if(!x)return;console.log("Planning trip state is active, checking for trip data..."),console.log("Current state of tripData:",s.tripData?"Has Data":"No Data");let e=ai(s.messages);e&&(console.log("Setting trip data to context:",e.destination),i({type:"SET_TRIP_DATA",payload:e}),i({type:"SET_LOADING",payload:!1}),t(),y(!1),v&&(clearTimeout(v),b(null)))},[s.messages,x,i,t,s.tripData,v]);let k=()=>{if(j.current)return;c(!0),p(null);let e=Math.random().toString(36).substring(2,15);j.current=new n9(e,{onOpen:()=>{h(!0),c(!1),console.log("WebSocket connected")},onMessage:e=>{if(null===f){let t=Date.now().toString();g(t),i({type:"ADD_MESSAGE",payload:{id:t,role:"assistant",content:e,timestamp:new Date}})}else i({type:"SET_MESSAGES",payload:s.messages.map(t=>t.id===f?{...t,content:t.content+e}:t)})},onTurnComplete:()=>{if(g(null),x){console.log("Turn complete, checking messages for trip data");let e=ai(s.messages);e&&(console.log("Found trip data after turn completion"),i({type:"SET_TRIP_DATA",payload:e}),i({type:"SET_LOADING",payload:!1}),t(),y(!1))}},onInterrupted:()=>{g(null)},onClose:()=>{h(!1),console.log("WebSocket disconnected")},onError:e=>{p("Connection to the assistant failed. Please try again."),c(!1),h(!1),console.error("WebSocket error:",e)}}),j.current.connect()},N=()=>{j.current&&(j.current.disconnect(),j.current=null,h(!1))},S=async a=>{if(a.preventDefault(),!r.trim())return;if(!l){d||k(),p("Connecting to the assistant. Please try again in a moment.");return}let o=r.toLowerCase().includes("วางแผนการเดินทาง")||r.toLowerCase().includes("ไปเที่ยว")||r.toLowerCase().includes("plan a trip");if(o&&(y(!0),e(),i({type:"SET_LOADING",payload:!0}),v&&clearTimeout(v),b(setTimeout(()=>{console.log("Timer expired, forcing trip data update with sample data");let e=ai(s.messages);e&&(i({type:"SET_TRIP_DATA",payload:e}),i({type:"SET_LOADING",payload:!1}),t(),y(!1))},1e4))),i({type:"ADD_MESSAGE",payload:{id:Date.now().toString(),role:"user",content:r,timestamp:new Date}}),j.current)try{j.current.sendMessage(r)}catch(e){console.error("Failed to send message:",e),p("Failed to send message. Please try again."),o&&(i({type:"SET_LOADING",payload:!1}),t(),y(!1),v&&(clearTimeout(v),b(null)))}else p("Not connected to the assistant. Please refresh the page."),o&&(i({type:"SET_LOADING",payload:!1}),t(),y(!1),v&&(clearTimeout(v),b(null)));n("")},P=async r=>{if(!l){d||k(),p("Connecting to the assistant. Please try again in a moment.");return}y(!0),e(),i({type:"SET_LOADING",payload:!0}),v&&clearTimeout(v),b(setTimeout(()=>{console.log("Trip input timer expired, forcing update with sample data"),i({type:"SET_TRIP_DATA",payload:{destination:r.destination,departure:r.departure,startDate:r.startDate,endDate:r.endDate,budget:r.budgetRange,travelers:"2",activities:[{id:"1",name:"Grand Palace",description:"The Grand Palace is a complex of buildings at the heart of Bangkok, Thailand. The palace has been the official residence of the Kings of Siam since 1782.",rating:4.8,openingHours:"8:30 AM - 3:30 PM",imageUrl:"https://images.unsplash.com/photo-1563492065599-3520f775eeed?w=800&auto=format&fit=crop&q=60",category:"Cultural",location:"Na Phra Lan Road, Bangkok",price:"฿500 per person",highlights:["Emerald Buddha","Throne Halls","Royal decorations"],bestTimeToVisit:"Early morning"}],restaurants:[{id:"1",name:"Thipsamai Pad Thai",cuisine:"Thai",priceRange:"฿฿",rating:4.7,reviewHighlight:"The best Pad Thai in Bangkok, a must-visit for authentic Thai flavors!",imageUrl:"https://images.unsplash.com/photo-1559314809-0d155014e29e?w=800&auto=format&fit=crop&q=60",location:"Maha Chai Road, Bangkok",hours:"5:00 PM - 2:00 AM",specialties:["Pad Thai","Fresh spring rolls","Orange juice"],reservationRequired:!1},{id:"2",name:"Raan Jay Fai",cuisine:"Thai Street Food",priceRange:"฿฿฿",rating:4.9,reviewHighlight:"Michelin-starred street food that lives up to the hype. The crab omelette is legendary!",imageUrl:"https://images.unsplash.com/photo-1543352634-a1c51d9f1fa7?w=800&auto=format&fit=crop&q=60",location:"Maha Chai Road, Bangkok",hours:"2:00 PM - 12:00 AM",specialties:["Crab omelette","Drunken noodles","Tom Yum"],reservationRequired:!0}],flights:[{id:"1",airline:"Thai Airways",flightNumber:"TG102",departure:{airport:"SFO",time:"23:55",date:r.startDate,terminal:"I"},arrival:{airport:"BKK",time:"06:50",date:r.startDate,terminal:"M"},duration:"15h 55m",price:29750,class:"Economy",bookingUrl:"https://www.thaiairways.com",stops:1,layover:"2h 30m in Tokyo",amenities:["In-flight meals","Wi-Fi","Entertainment"],cancellationPolicy:"Free cancellation up to 24 hours before departure"}],videos:[{id:"1",title:`${r.destination} Travel Guide - Best Things to Do`,description:`Complete guide to ${r.destination} covering temples, markets, food, and nightlife.`,thumbnail:"https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=800&auto=format&fit=crop&q=60",embedUrl:"https://www.youtube.com/embed/tO01J-M3g0U",duration:"12:45",viewCount:"250K",likes:"15K",channel:"Travel Guides",publishDate:"2023-01-15"}],accommodations:[{id:"1",name:"Luxury Resort",type:"Luxury Hotel",rating:4.9,reviewCount:342,price:8750,priceUnit:"night",amenities:["WiFi","Pool","Private Bathroom","Breakfast","Spa","Fitness Center"],imageUrl:"https://images.unsplash.com/photo-1584132967334-10e028bd69f7?w=800&auto=format&fit=crop&q=60",platform:"Agoda",bookingUrl:"https://www.agoda.com",location:`Downtown, ${r.destination}`,description:"An urban luxury resort with exquisite design and personalized service.",distance:"5 km"}]}}),i({type:"SET_LOADING",payload:!1}),t(),y(!1)},1e4));let n=`วางแผนการเดินทางให้หน่อย:
- จาก: ${r.departure}
- ไป: ${r.destination}
- วันที่: ${r.startDate} ถึง ${r.endDate}
- งบประมาณ: ${r.budgetRange}`;if(i({type:"ADD_MESSAGE",payload:{id:Date.now().toString(),role:"user",content:n,timestamp:new Date}}),j.current)try{j.current.sendMessage(n)}catch(e){console.error("Failed to send trip planning request:",e),p("Failed to send trip planning request. Please try again."),setTimeout(()=>{let e=ai(s.messages);e&&i({type:"SET_TRIP_DATA",payload:e}),i({type:"SET_LOADING",payload:!1}),t(),y(!1)},2e3),v&&(clearTimeout(v),b(null))}else p("Not connected to the assistant. Please refresh the page."),setTimeout(()=>{let e=ai(s.messages);e&&i({type:"SET_TRIP_DATA",payload:e}),i({type:"SET_LOADING",payload:!1}),t(),y(!1)},2e3),v&&(clearTimeout(v),b(null))};return(0,a.jsxs)("div",{className:"h-full flex flex-col bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Chat Assistant"}),d?(0,a.jsxs)("div",{className:"flex items-center text-amber-600 text-sm",children:[a.jsx(n5,{className:"w-4 h-4 mr-1 animate-spin"}),a.jsx("span",{children:"Connecting..."})]}):l?(0,a.jsxs)("div",{className:"flex items-center text-green-600 text-sm",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 mr-1"}),a.jsx("span",{children:"Connected"})]}):(0,a.jsxs)("div",{className:"flex items-center text-rose-600 text-sm",children:[a.jsx(n4,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:"Disconnected"})]})]})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[m&&a.jsx("div",{className:"bg-rose-50 border border-rose-200 rounded-lg p-3 text-rose-600 text-sm",children:m}),a.jsx(at,{onSubmit:P}),s.messages.map(e=>a.jsx("div",{className:`flex ${"user"===e.role?"justify-end":"justify-start"}`,children:(0,a.jsxs)("div",{className:`flex gap-3 max-w-[80%] ${"user"===e.role?"flex-row-reverse":"flex-row"}`,children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${"user"===e.role?"bg-primary-500":"bg-gray-200"}`,children:"user"===e.role?a.jsx(n3,{className:"w-5 h-5 text-white"}):a.jsx(n6,{className:"w-5 h-5 text-gray-600"})}),(0,a.jsxs)("div",{className:`rounded-lg px-4 py-2 ${"user"===e.role?"bg-primary-500 text-white":"bg-white border border-gray-200"}`,children:[a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),a.jsx("p",{className:`text-xs mt-1 ${"user"===e.role?"text-primary-200":"text-gray-500"}`,children:e.timestamp.toLocaleTimeString()})]})]})},e.id)),a.jsx("div",{ref:w})]}),a.jsx("form",{onSubmit:S,className:"p-4 bg-white border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:r,onChange:e=>n(e.target.value),placeholder:"Type your message...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),a.jsx("button",{type:"submit",className:"bg-primary-500 text-white rounded-lg p-2 hover:bg-primary-600 transition-colors",children:a.jsx(n8,{className:"w-5 h-5"})})]})})]})},ar=()=>a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-primary-500 p-2 rounded-lg",children:a.jsx(nW,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Travel Planner"}),a.jsx("p",{className:"text-sm text-gray-600",children:"AI-Powered Trip Planning Assistant"})]})]})})}),an=function(){let[e,t]=(0,o.useState)(!1);return a.jsx(c,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[a.jsx(ar,{}),a.jsx("main",{className:"container mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-[calc(100vh-8rem)]",children:[a.jsx("div",{className:"lg:col-span-8 bg-white rounded-xl shadow-lg overflow-hidden",children:a.jsx(n2,{isPlanning:e})}),a.jsx("div",{className:"lg:col-span-4 bg-white rounded-xl shadow-lg overflow-hidden",children:a.jsx(as,{onPlanningStart:()=>t(!0),onPlanningComplete:()=>t(!1)})})]})})]})})}},2671:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});var s=i(5344);i(3729);var r=i(3161);let n=()=>{let{isConnected:e,connectionError:t}=(0,r.useWebSocket)();return e?null:s.jsx("div",{className:"fixed bottom-4 right-4 p-3 bg-red-500 text-white rounded-md shadow-lg z-50",children:t||"Connection lost. Reconnecting..."})}},3161:(e,t,i)=>{"use strict";i.r(t),i.d(t,{WebSocketProvider:()=>o,useWebSocket:()=>a});var s=i(5344),r=i(3729);let n=(0,r.createContext)({isConnected:!1,connectionError:null}),a=()=>(0,r.useContext)(n),o=({children:e})=>{let[t,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(null),l=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=()=>{let t=Math.random().toString(36).substring(2,15),s=new WebSocket(`ws://localhost:8000/api/ws/${t}`);return s.onopen=()=>{console.log("WebSocket connected"),i(!0),o(null)},s.onclose=t=>{console.log("WebSocket disconnected",t),i(!1),setTimeout(e,3e3)},s.onerror=e=>{console.error("WebSocket error:",e),o("Connection error occurred. Trying to reconnect...")},l.current=s,()=>{s.close()}};return e(),()=>{l.current&&l.current.close()}},[]),s.jsx(n.Provider,{value:{isConnected:t,connectionError:a,sendMessage:e=>{l.current&&l.current.readyState===WebSocket.OPEN?l.current.send(JSON.stringify(e)):(console.error("WebSocket is not connected"),o("Connection lost. Unable to send message."))}},children:e})}},1805:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g,metadata:()=>f});var s=i(5036),r=i(8592),n=i.n(r),a=i(6843);let o=(0,a.createProxy)(String.raw`/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/components/WebSocketProvider.tsx`),{__esModule:l,$$typeof:h}=o;o.default,(0,a.createProxy)(String.raw`/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/components/WebSocketProvider.tsx#useWebSocket`);let d=(0,a.createProxy)(String.raw`/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/components/WebSocketProvider.tsx#WebSocketProvider`),c=(0,a.createProxy)(String.raw`/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/components/ConnectionStatus.tsx`),{__esModule:u,$$typeof:m}=c,p=c.default;i(5023);let f={title:"Travel Planner - AI-Powered Trip Planning",description:"Plan your perfect trip with AI agents"};function g({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:n().className,children:(0,s.jsxs)(d,{children:[e,s.jsx(p,{})]})})})}},751:(e,t,i)=>{"use strict";i.r(t),i.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>a});let s=(0,i(6843).createProxy)(String.raw`/Users/wattanachaiprakobdee/Desktop/travel-a2a/frontend/app/page.tsx`),{__esModule:r,$$typeof:n}=s,a=s.default},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),s=t.X(0,[429],()=>i(9859));module.exports=s})();